<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CoreFlux Simpit</title>
<meta name="description" content="A cockpit you’ll actually finish — modular, affordable, and sleek enough for the living room." />
<link rel="icon" href="assets/images/coreflux-logo.png" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">

<style>
:root{
  --bg1:#070b1a;--bg2:#0a1024;--bg3:#0f1530;
  --ink:#e8f0ff;--muted:#9aa6c7;
  --accent:#00c6ff;--accent2:#ffd23f;
  --border:rgba(255,255,255,.12)
}
*{box-sizing:border-box}
body{
  margin:0;font-family:'Inter',sans-serif;color:var(--ink);
  background:radial-gradient(1100px 760px at 80% -10%,rgba(0,198,255,.12),transparent 60%),
             radial-gradient(900px 650px at 8% 18%,rgba(255,210,63,.08),transparent 60%),
             linear-gradient(180deg,var(--bg2),var(--bg1) 40%,var(--bg3));
  overflow-x:hidden;
}
a{color:inherit;text-decoration:none}
img{max-width:100%;display:block}
.wrap{width:min(1200px,92vw);margin:auto}
.lede{color:var(--muted)}
#aiCanvas{position:fixed;inset:0;z-index:-1;pointer-events:none;opacity:.7;transition:opacity .8s ease}

/* NAV */
.nav{position:sticky;top:0;z-index:20;background:rgba(10,14,28,.6);backdrop-filter:blur(12px);border-bottom:1px solid var(--border)}
.nav__inner{display:flex;justify-content:space-between;align-items:center;padding:16px 0}
.brand{display:flex;align-items:center;gap:14px}
.brand img{height:120px;width:auto;filter:drop-shadow(0 0 24px rgba(0,198,255,.35))}
.brand span{font-weight:900;font-size:1.5rem}
.links a{margin:0 10px;font-weight:600;color:var(--muted)}
.links a:hover{color:var(--ink)}

/* HERO */
.hero{display:grid;grid-template-columns:1fr 1fr;gap:40px;align-items:center;padding:100px 0}
.hero h1{font-size:clamp(36px,4vw,56px);margin:0;
  background:linear-gradient(90deg,#fff,#9ad6ff 55%,#ffe189 85%);
  -webkit-background-clip:text;color:transparent}
.hero p{color:var(--muted);margin:18px 0 22px;line-height:1.6}
.btn{padding:12px 18px;border-radius:12px;font-weight:800;border:1px solid var(--border);cursor:pointer}
.btn.primary{background:linear-gradient(135deg,var(--accent),#4be3d1);color:#041221;box-shadow:0 10px 28px rgba(0,198,255,.32)}
.btn.ghost{background:rgba(255,255,255,.05);color:var(--ink)}

/* MOCK */
.mock{position:relative;border:1px solid var(--border);border-radius:20px;overflow:hidden;
  box-shadow:0 0 60px rgba(0,198,255,.25);background:#0b1020;height:625px;max-height:640px}
.mock__slide{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;transform:scale(1.03);
  transition:opacity 1s ease,transform 9s ease}
.mock__slide.active{opacity:1;transform:scale(1.08)}
.mock__nav{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:2}
.dot{width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,.32);cursor:pointer;transition:transform .2s,background .2s}
.dot.active{background:linear-gradient(135deg,var(--accent),#4be3d1);transform:scale(1.2)}
.mock__toggle{position:absolute;top:12px;right:12px;z-index:2;padding:7px 10px;border-radius:10px;border:1px solid var(--border);
  background:rgba(255,255,255,.06);backdrop-filter:blur(8px);font-weight:900;font-size:12px}
.mock.fit .mock__slide{object-fit:contain;transform:scale(1)!important;background:#0b1020}

/* SECTIONS */
section{position:relative;z-index:1}
#workswith,#configurator,#accessories,#philosophy,#specs,#compat,#testimonials,#faq,#cta{padding:70px 0}
.logo-strip{display:flex;justify-content:center;flex-wrap:wrap;gap:40px;padding:18px 0}
.logo-strip img{height:50px;opacity:.75;transition:.25s}
.logo-strip img:hover{opacity:1;transform:scale(1.08)}
.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:22px}
.card{background:rgba(255,255,255,.03);border:1px solid var(--border);border-radius:14px;overflow:hidden;transition:.3s}
.card:hover{transform:translateY(-4px)}
footer{padding:44px 0;text-align:center;color:var(--muted);border-top:1px solid var(--border)}
@media(max-width:980px){.hero{grid-template-columns:1fr}.brand img{height:96px}.mock{height:480px}}
</style>
</head>

<body>
<canvas id="aiCanvas"></canvas>

<nav class="nav">
  <div class="wrap nav__inner">
    <div class="brand">
  <div class="brand__logo-wrap">
    <img class="brand__logo-img" src="assets/images/coreflux-logo.png" alt="CoreFlux logo">
  </div>
  <div class="brand__text">
    <span class="brand__tagline">Dynamic Simpits. Brought to Life.</span>
  </div>
</div>

    <div class="links">
      <a href="#workswith">Works With</a>
      <a href="#configurator">Build</a>
      <a href="#accessories">Accessories</a>
      <a href="#philosophy">Why</a>
      <a href="#specs">Specs</a>
      <a href="#compat">Compatibility</a>
      <a href="#faq">FAQ</a>
    </div>
  </div>
</nav>

<section class="hero wrap">
  <div>
    <h1>A cockpit you’ll actually finish</h1>
    <p>From first sketch to maiden flight. Modular, affordable, and comfortable for long sessions — clean enough for the living room.</p>
    <div style="display:flex;gap:10px;flex-wrap:wrap">
      <a href="#configurator" class="btn primary">Build yours</a>
      <a href="#accessories" class="btn ghost">See accessories</a>
    </div>
  </div>

  <div class="mock" id="mock">
    <button class="mock__toggle" id="fitToggle" type="button">Fit</button>
    <img class="mock__slide active" src="assets/images/frame-left.png"  alt="Left view">
    <img class="mock__slide" src="assets/images/frame-right.png" alt="Right view">
    <img class="mock__slide" src="assets/images/top-view.png" alt="Top view">
    <div class="mock__nav">
      <span class="dot active"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>
  </div>
</section>

<section id="workswith" class="wrap">
  <h2>Works With</h2>
  <p class="lede">Fully compatible with leading flight and racing hardware — no drilling required.</p>
  <div class="logo-strip">
    <img src="assets/images/logos/honeycomb.svg" alt="">
    <img src="assets/images/logos/thrustmaster.svg" alt="">
    <img src="assets/images/logos/logitech.svg" alt="">
    <img src="assets/images/logos/virpil.svg" alt="">
    <img src="assets/images/logos/vkb.svg" alt="">
    <img src="assets/images/logos/mfg.svg" alt="">
  </div>
</section>

<!-- CONFIGURATOR -->
<section id="configurator" class="wrap">
  <h2>Configurator</h2>
  <p class="lede">Select your modules and see your build total update live.</p>

  <div style="display:grid;grid-template-columns:2fr 1fr;gap:30px;align-items:start;margin-top:24px">
    <!-- LEFT: MODULES -->
    <div id="moduleList" class="cards-grid">

      <!-- Core -->
      <div class="card" style="grid-column:1/-1;padding:14px 16px">
        <h3 style="margin:0 0 6px">Core</h3>
        <p class="lede" style="margin:0">Start with the BASE, then add what you need.</p>
      </div>

      <label class="card" style="padding:16px;cursor:pointer">
        <input type="checkbox" data-price="299" data-label="BASE">
        <strong> BASE — $1000</strong>
        <p>Core 4080 aluminium frame + fasteners, pre-cut and anodized.</p>
      </label>

      <label class="card" style="padding:16px;cursor:pointer">
        <input type="checkbox" data-price="129" data-label="PEDAL TRAY">
        <strong> PEDAL TRAY — $300</strong>
        <p>Sliding tray with non-slip runners and quick alignment.</p>
      </label>

      <!-- Monitor System (choose one) -->
      <div class="card radio-group" data-group="monitor" style="grid-column:1/-1;padding:14px 16px">
        <h3 style="margin:0 0 6px">Monitor System</h3>
        <p class="lede" style="margin:0">Choose one configuration.</p>
      </div>

      <label class="card radio-group" data-group="monitor" style="padding:16px;cursor:pointer">
        <input type="radio" name="monitor" data-price="149" data-label="Monitor Stand">
        <strong> Monitor stand — $500</strong>
        <p>Floor stand with rigid center post (VESA 75/100).</p>
      </label>

      <label class="card radio-group" data-group="monitor" style="padding:16px;cursor:pointer">
        <input type="radio" name="monitor" data-price="89" data-label="Single Monitor Mount">
        <strong> Single monitor mount — $150</strong>
        <p>Frame-mounted arm for 24–34″ displays.</p>
      </label>

      <label class="card radio-group" data-group="monitor" style="padding:16px;cursor:pointer">
        <input type="radio" name="monitor" data-price="229" data-label="Triple Monitor Arm">
        <strong> Triple monitor arm — $400</strong>
        <p>Independent tilt/angle for triple 24–32″ setups.</p>
      </label>

      <label class="card radio-group" data-group="monitor" style="padding:16px;cursor:pointer">
        <input type="radio" name="monitor" data-price="119" data-label="Top Monitor Arm">
        <strong> Top monitor arm — $200</strong>
        <p>HUD/aux display above main view (ultra-stable).</p>
      </label>

      <!-- Controls & Mounts -->
      <div class="card" style="grid-column:1/-1;padding:14px 16px">
        <h3 style="margin:0 0 6px">Controls & Mounts</h3>
        <p class="lede" style="margin:0">Add one or many.</p>
      </div>

      <label class="card" style="padding:16px;cursor:pointer">
        <input type="checkbox" data-price="159" data-label="HOTAS MOUNT">
        <strong> HOTAS MOUNT — $200</strong>
        <p>Quick-change plates for joystick & throttle.</p>
      </label>

      <label class="card" style="padding:16px;cursor:pointer">
        <input type="checkbox" data-price="169" data-label="DUAL JOYSTICK MOUNT">
        <strong> DUAL JOYSTICK MOUNT — $200</strong>
        <p>Left + right sticks with mirrored adjustability.</p>
      </label>

      <!-- Capture & Lighting -->
      <div class="card" style="grid-column:1/-1;padding:14px 16px">
        <h3 style="margin:0 0 6px">Capture & Lighting</h3>
        <p class="lede" style="margin:0">Dial in your stream setup.</p>
      </div>

      <label class="card" style="padding:16px;cursor:pointer">
        <input type="checkbox" data-price="79" data-label="CAMERA MOUNT">
        <strong> CAMERA MOUNT — $100</strong>
        <p>Low-vibration arm for face/overhead cams.</p>
      </label>

      <label class="card" style="padding:16px;cursor:pointer">
        <input type="checkbox" data-price="59" data-label="KEY LIGHT MOUNT">
        <strong> KEY LIGHT MOUNT — $200</strong>
        <p>Frame-mounted post for key/fill lights.</p>
      </label>
    </div>

    <!-- RIGHT: SUMMARY -->
    <aside style="position:sticky;top:100px;background:rgba(255,255,255,.03);border:1px solid var(--border);
      border-radius:16px;padding:20px;backdrop-filter:blur(6px)">
      <h3>Your Build</h3>
      <ul id="buildLines" style="list-style:none;margin:10px 0 12px;padding:0;max-height:220px;overflow:auto"></ul>
      <p id="selectedCount" class="lede">0 modules selected</p>
      <h2 id="totalPrice" style="margin:10px 0;font-size:1.8rem">$0</h2>
      <a href="#cta" class="btn primary" style="width:100%;text-align:center">Checkout</a>
    </aside>
  </div>
</section>


<!-- PHILOSOPHY -->
<section id="philosophy" class="wrap">
  <h2>Why We Build</h2>
  <p class="lede">Rigs that balance aerospace-grade precision with living-room usability.</p>
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:32px;align-items:center;margin-top:16px">
    <div>
      <p>We design for posture, endurance, and immersion. Every part can be printed, machined, or sourced locally. Every module locks with tight tolerances.</p>
      <p>Less wrenching. More flying.</p>
    </div>
    <div><img src="assets/images/design-lab.jpg" alt="Design lab" style="border-radius:14px"></div>
  </div>
</section>

<!-- SPECS -->
<section id="specs" class="wrap">
  <h2>Engineering Specs</h2>
  <p class="lede">Everything measured, nothing assumed.</p>
  <table style="width:100%;border-collapse:collapse;margin-top:16px">
    <thead><tr style="color:var(--muted);font-size:13px;text-transform:uppercase;">
      <th style="text-align:left;padding:8px 0;">Component</th>
      <th style="text-align:left;padding:8px 0;">Material</th>
      <th style="text-align:left;padding:8px 0;">Finish / Tolerance</th>
    </tr></thead>
    <tbody>
      <tr><td>Frame Extrusion</td><td>4080 Aluminium</td><td>Anodized matte black · ±0.2 mm</td></tr>
      <tr><td>Connectors</td><td>PETG / CF-Nylon</td><td>Printed @ 0.15 mm</td></tr>
      <tr><td>Seat Rails</td><td>Steel</td><td>Powder-coated · dual-lock slides</td></tr>
      <tr><td>Monitor Arm</td><td>Aluminium + Damp</td><td>VESA 75/100 up to 49″</td></tr>
      <tr><td>Fasteners</td><td>A2-70 Stainless</td><td>ISO 7380 / M8 set</td></tr>
    </tbody>
  </table>
</section>

<!-- COMPATIBILITY -->
<section id="compat" class="wrap">
  <h2>Compatibility</h2>
  <p class="lede">If it flies or drives, it fits.</p>
  <table style="width:100%;border-collapse:collapse;margin-top:16px">
    <thead><tr><th>Brand</th><th>Device</th><th>Mount Type</th><th>Status</th></tr></thead>
    <tbody>
      <tr><td>Honeycomb</td><td>Alpha / Bravo</td><td>Dual clamp</td><td>Verified</td></tr>
      <tr><td>Thrustmaster</td><td>Warthog / TCA / T16000</td><td>Quick-plate</td><td>Verified</td></tr>
      <tr><td>Logitech</td><td>X56 / G Pro Wheel</td><td>Universal base</td><td>Tested</td></tr>
      <tr><td>Virpil</td><td>MongoosT-50CM3</td><td>Bolted</td><td>Verified</td></tr>
      <tr><td>VKB</td><td>Gunfighter Mk IV</td><td>Center plate</td><td>Verified</td></tr>
      <tr><td>MFG</td><td>Crosswind V3</td><td>Pedal tray</td><td>Verified</td></tr>
    </tbody>
  </table>
</section>

<!-- TESTIMONIALS -->
<section id="testimonials" class="wrap">
  <h2>What Builders Say</h2>
  <div class="cards-grid" style="margin-top:14px">
    <div class="card" style="padding:16px"><p>“Assembly took an evening. Cable tray alone is worth it.”</p><p><strong>— JP</strong>, MSFS + VR</p></div>
    <div class="card" style="padding:16px"><p>“Swapped from yoke to HOTAS in minutes. Rock solid.”</p><p><strong>— K</strong>, DCS F-16</p></div>
    <div class="card" style="padding:16px"><p>“Looks like furniture, not scaffolding.”</p><p><strong>— T</strong>, Home Office</p></div>
  </div>
</section>

<!-- FAQ -->
<section id="faq" class="wrap">
  <h2>FAQ</h2>
  <details style="margin:10px 0;border:1px solid var(--border);border-radius:12px;padding:12px;background:rgba(255,255,255,.03);">
    <summary style="font-weight:800;cursor:pointer;">How long does assembly take?</summary>
    <p>About 2 hours with a hex set. Modules click in — no drilling.</p>
  </details>
  <details style="margin:10px 0;border:1px solid var(--border);border-radius:12px;padding:12px;background:rgba(255,255,255,.03);">
    <summary style="font-weight:800;cursor:pointer;">Will it fit my chair?</summary>
    <p>Standard office/recliner shells fit the rails; bucket seats need side mounts.</p>
  </details>
  <details style="margin:10px 0;border:1px solid var(--border);border-radius:12px;padding:12px;background:rgba(255,255,255,.03);">
    <summary style="font-weight:800;cursor:pointer;">Triple-monitor support?</summary>
    <p>Yes. Use the display module with the triple-arm kit. VESA 75/100.</p>
  </details>
</section>

<!-- CTA -->
<section id="cta" class="wrap" style="text-align:center;padding:80px 0">
  <h2>Own the Blueprint</h2>
  <p class="lede">Download the STL pack or pre-order the aluminium kit.</p>
  <div style="display:flex;gap:10px;justify-content:center;margin-top:10px">
    <a class="btn primary" href="#configurator">Build now</a>
    <a class="btn ghost" href="#accessories">Browse accessories</a>
  </div>
</section>

<footer>© <span id="year"></span> CoreFlux Simpit</footer>

<!-- ======================= SCRIPTS ======================= -->
<script>
// Footer year
document.getElementById('year').textContent = new Date().getFullYear();

/* ---------- Hero Carousel (auto-rotate + dots + fit/fill) ---------- */
document.addEventListener('DOMContentLoaded', ()=>{
  const slides=[...document.querySelectorAll('.mock__slide')];
  const dots=[...document.querySelectorAll('.dot')];
  const mock=document.getElementById('mock');
  const fitBtn=document.getElementById('fitToggle');
  let i=0,timer;

  function show(n){
    i=(n+slides.length)%slides.length;
    slides.forEach((s,k)=>s.classList.toggle('active',k===i));
    dots.forEach((d,k)=>d.classList.toggle('active',k===i));
  }
  function play(){ timer=setInterval(()=>show(i+1), 5200); }
  function stop(){ clearInterval(timer); }

  dots.forEach((d,idx)=>d.addEventListener('click',()=>{ stop(); show(idx); play(); }));
  if (mock) {
    mock.addEventListener('mouseenter',stop);
    mock.addEventListener('mouseleave',play);
  }
  if (fitBtn && mock){
    fitBtn.addEventListener('click',()=>{
      mock.classList.toggle('fit');
      fitBtn.textContent = mock.classList.contains('fit') ? 'Fill' : 'Fit';
    });
  }

  show(0); play();
});

/* ---------- Configurator (robust: uses data-price or parses $ from label) ---------- */
(function(){
  const root = document.getElementById('moduleList');
  if(!root) return;

  const totalEl = document.getElementById('totalPrice');
  const countEl = document.getElementById('selectedCount');
  const linesEl = document.getElementById('buildLines');

  // radio group names
  const radioGroups = Array.from(
    new Set(
      [...root.querySelectorAll('input[type="radio"][name]')].map(i => i.name)
    )
  );

  // price resolver
  function resolvePrice(input){
    const dp = Number(input.dataset.price || 0);
    if (dp > 0) return dp;

    const card = input.closest('.card') || input.parentElement;
    if (!card) return 0;
    const strong = card.querySelector('strong');
    const source = (strong ? strong.textContent : card.textContent) || '';
    const m = source.match(/\$\s*([\d,]+(?:\.\d+)?)/);
    if (!m) return 0;
    return Number(m[1].replace(/,/g,''));
  }

  function resolveLabel(input){
    if (input.dataset.label) return input.dataset.label;
    const card = input.closest('.card') || input.parentElement;
    const strong = card ? card.querySelector('strong') : null;
    if (strong){
      return strong.textContent.replace(/\s*—\s*\$.*$/,'').trim();
    }
    return input.name || 'Item';
  }

  function getSelectedRadios(){
    const sel = [];
    for (const group of radioGroups){
      const chosen = root.querySelector(`input[type="radio"][name="${group}"]:checked`);
      if (chosen) sel.push(chosen);
    }
    return sel;
  }

  function update(){
    let total = 0;
    const picked = [];

    root.querySelectorAll('input[type="checkbox"]').forEach(ch=>{
      if (ch.checked){
        const price = resolvePrice(ch);
        total += price;
        picked.push(`${resolveLabel(ch)} — $${price}`);
      }
    });

    getSelectedRadios().forEach(r=>{
      const price = resolvePrice(r);
      total += price;
      picked.push(`${resolveLabel(r)} — $${price}`);
    });

    if (linesEl) linesEl.innerHTML = picked.map(t=>`<li style="padding:6px 0;border-bottom:1px solid var(--border)">${t}</li>`).join('');
    if (countEl) countEl.textContent = `${picked.length} module${picked.length===1?'':'s'} selected`;
    if (totalEl) totalEl.textContent = `$${total}`;
  }

  // click anywhere on card
  root.querySelectorAll('.card').forEach(card=>{
    const input = card.querySelector('input');
    if(!input) return;
    card.addEventListener('click', (e)=>{
      if (e.target === input) return;
      if (input.type === 'checkbox'){
        input.checked = !input.checked;
        input.dispatchEvent(new Event('change', {bubbles:true}));
      } else if (input.type === 'radio'){
        input.checked = true;
        input.dispatchEvent(new Event('change', {bubbles:true}));
      }
    });
  });

  root.querySelectorAll('input').forEach(i=> i.addEventListener('change', update));

  // sync data attributes once
  (function syncData(){
    root.querySelectorAll('input').forEach(i=>{
      const p = resolvePrice(i);
      if (p > 0) i.dataset.price = String(p);
      if (!i.dataset.label) i.dataset.label = resolveLabel(i);
    });
  })();

  update();
})();

/* ---------- Full-page AI Particle Network (with scroll fade) ---------- */
(function(){
  const c = document.getElementById('aiCanvas');
  if(!c) return;
  const ctx = c.getContext('2d');
  let w, h, pts = [];
  const DENSITY = 0.00012;   // particles per px
  const LINK_DIST = 140;
  const MAX_LINKS = 3;

  function resize(){
    w = c.width = window.innerWidth;
    h = c.height = window.innerHeight;
    const count = Math.max(90, Math.floor(w*h*DENSITY));
    pts = Array.from({length:count},()=>({
      x: Math.random()*w,
      y: Math.random()*h,
      vx: (Math.random()-.5)*0.35,
      vy: (Math.random()-.5)*0.35,
      r: Math.random()*1.6 + 0.7
    }));
  }
  resize();
  window.addEventListener('resize', resize);

  let pmx = 0, pmy = 0;
  window.addEventListener('pointermove', e=>{
    pmx = (e.clientX - w/2) * 0.02;
    pmy = (e.clientY - h/2) * 0.02;
  });

  function fadeByScroll(){
    const max = Math.max(1, document.body.scrollHeight - h);
    const t = window.scrollY / max;                 // 0..1
    return 0.45 + 0.35 * (1 - Math.abs(t - 0.5)*2); // bright at top/bottom, softer mid
  }

  function tick(){
    ctx.clearRect(0,0,w,h);
    c.style.opacity = fadeByScroll();

    // move
    for(const p of pts){
      p.x += p.vx; p.y += p.vy;
      if(p.x<0||p.x>w) p.vx*=-1;
      if(p.y<0||p.y>h) p.vy*=-1;
    }

    // links
    for(let i=0;i<pts.length;i++){
      const a = pts[i]; let links = 0;
      for(let j=i+1;j<pts.length;j++){
        const b = pts[j];
        const dx = a.x - b.x, dy = a.y - b.y, d2 = dx*dx + dy*dy;
        if(d2 < LINK_DIST*LINK_DIST){
          const d = Math.sqrt(d2);
          const alpha = 1 - d / LINK_DIST;
          ctx.globalAlpha = alpha * 0.25;
          ctx.beginPath();
          ctx.moveTo(a.x+pmx*alpha, a.y+pmy*alpha);
          ctx.lineTo(b.x+pmx*alpha, b.y+pmy*alpha);
          ctx.strokeStyle = 'rgba(0,198,255,1)'; // cyan
          ctx.lineWidth = 1;
          ctx.stroke();
          if(++links >= MAX_LINKS) break;
        }
      }
    }
    ctx.globalAlpha = 1;

    // dots (glow)
    for(const p of pts){
      const gx = p.x + pmx*0.3, gy = p.y + pmy*0.3;
      const g = ctx.createRadialGradient(gx,gy,0, gx,gy, p.r*6);
      g.addColorStop(0,'rgba(0,198,255,.75)');
      g.addColorStop(0.7,'rgba(0,198,255,.12)');
      g.addColorStop(1,'rgba(255,210,63,0)'); // faint gold edge
      ctx.fillStyle = g;
      ctx.beginPath();
      ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
      ctx.fill();
    }
    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);
})();
</script>

</body>
</html>
