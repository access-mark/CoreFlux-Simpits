<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>CoreFlux Simpits — Motion-Ready Racing & Flight Cockpit | One Rig. All Roles.</title>

  <meta name="description" content="CoreFlux Simpits: one rig that converts from work setup to racing cockpit, HOTAS flight sim, and space sim in minutes. Static or actuator-ready Dynamic frame. Direct drive steering, loadcell pedals, HOTAS, Qubic System motion compatibility. No drilling. Apartment safe." />
  <meta name="keywords" content="simpit, sim rig, racing cockpit, flight simpit, HOTAS mount, direct drive wheel mount, loadcell pedal mount, motion platform frame, Qubic System compatible, DCS setup, iRacing cockpit, ACC rig, Star Citizen dual stick, actuator-ready sim rig, 4080 aluminium extrusion cockpit, South Africa sim rig, CoreFlux Simpits, FIGHT3RPHOENIX" />
  <meta name="theme-color" content="#0b1020" />

  <link rel="icon" href="assets/images/coreflux-logo.png" />
  <link rel="canonical" href="https://access-mark.github.io/CoreFlux-Simpits/" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="CoreFlux Simpits — One Rig. Infinite Worlds." />
  <meta property="og:description" content="Swap from work to FPS to iRacing to full HOTAS flight without rebuilding your room. Static or actuator-ready Dynamic frame. Pilot Batch #1 now forming. Featuring FIGHT3RPHOENIX Phoenix Primus layout." />
  <meta property="og:image" content="https://access-mark.github.io/CoreFlux-Simpits/assets/images/frame-left.png" />
  <meta property="og:site_name" content="CoreFlux Simpits" />

  <!-- preload -->
  <link rel="preload" as="image" href="assets/images/frame-left.png" />
  <link rel="preload" as="image" href="assets/images/frame-right.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" as="style" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">

  <style>
  :root{
    --bg:#0b1020; --bg-2:#0a0f1e; --bg-3:#090e1a;
    --panel:#111831; --panel-2:#0f152b;
    --text:#e6eefc; --muted:#a6b0cf;
    --accent:#00c6ff; --accent-2:#ffd23f;
    --border:rgba(255,255,255,.08);
    --blur:14px;
    --shadow:0 10px 30px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.04);
    --radius-xl:24px; --radius-lg:18px; --radius-md:14px;
    --logo-h:54px;
    --nav-h:160px;
    --content-max:1200px;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    color:var(--text);
    background-color:var(--bg);
    background-image:
      radial-gradient(1000px 700px at 70% -10%, rgba(0,198,255,.10) 0%, transparent 60%),
      radial-gradient(900px 600px at 10% 20%, rgba(255,210,63,.08) 0%, transparent 60%),
      radial-gradient(circle at 50% 120%, rgba(0,0,0,.6) 0%, rgba(0,0,0,0) 70%);
    background-repeat:no-repeat;
    background-attachment:fixed;
    overflow-x:hidden;
    scroll-behavior:smooth;
  }
  a{color:inherit;text-decoration:none}
  img{max-width:100%;display:block}
  .wrap{ width:min(var(--content-max),92vw); margin:0 auto; }
  .lede{color:var(--muted);font-size:clamp(15px,1.25vw,18px);line-height:1.5;font-weight:500;max-width:680px;}
  section{padding:48px 0;position:relative;z-index:1;}

  #aiCanvas{
    position:fixed; inset:0; z-index:-1; pointer-events:none;
    opacity:.55;
  }

  /* NAV */
  .nav{
    position:sticky; top:0; z-index:40; height:var(--nav-h);
    backdrop-filter:saturate(140%) blur(var(--blur));
    background:rgba(8,12,26,.8);
    border-bottom:1px solid var(--border);
    box-shadow:0 30px 60px rgba(0,0,0,.9);
    display:flex; align-items:center;
  }
  .nav__inner{
    display:flex; align-items:center; justify-content:space-between;
    width:min(var(--content-max),92vw); margin:0 auto; height:100%; flex-wrap:wrap; gap:12px;
  }
  .brand{display:flex;align-items:center;gap:16px;min-width:0;}
  .brand__logo-img{
    height:110px;width:auto;max-height:110px;max-width:300px;object-fit:contain;
  }
  .brand__center{
    text-align:center;line-height:1.05;display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:0;max-width:50%;
  }
  .brand__tagline{
    font-weight:800;font-size:2.5rem;line-height:1.1;letter-spacing:-.03em;
    background:linear-gradient(90deg,#cfe9ff 0%, #7fd3ff 55%, #ffe189 100%);
    -webkit-background-clip:text;background-clip:text;color:transparent;
    text-shadow:0 0 24px rgba(0,198,255,.4),0 0 48px rgba(0,198,255,.25),0 0 80px rgba(255,210,63,.18);
  }
  .brand__name{font-weight:900;font-size:2.5rem;line-height:1.1;color:var(--text);letter-spacing:-.03em;margin-top:6px;}
  .brand__subline{
    margin-top:10px;font-size:.8rem;font-weight:700;line-height:1.3;color:var(--accent);text-transform:uppercase;letter-spacing:.04em;
    background:rgba(0,198,255,.08);border:1px solid rgba(0,198,255,.4);border-radius:999px;padding:4px 10px;
    box-shadow:0 0 24px rgba(0,198,255,.4),0 24px 60px rgba(0,0,0,.9);white-space:nowrap;
  }
  .nav__right{
    display:flex;align-items:center;gap:12px;
  }
  .ambassador-badge{
    background:rgba(0,0,0,.35);
    border:1px solid rgba(0,198,255,.4);
    border-radius:999px;
    padding:6px 12px 6px 6px;
    display:flex;align-items:center;gap:8px;
  }
  .ambassador-logo{
    width:42px;height:42px;border-radius:12px;object-fit:contain;background:rgba(0,0,0,.5);border:1px solid rgba(0,198,255,.3);
  }
  .ambassador-text{
    display:flex;flex-direction:column;line-height:1.1;
  }
  .ambassador-text small{
    font-size:.55rem;text-transform:uppercase;letter-spacing:.04em;color:var(--muted);font-weight:600;
  }
  .ambassador-text strong{
    font-size:.7rem;color:var(--text);font-weight:800;
  }
  .nav__cta-wrap{display:flex;align-items:center;}
  .cta{
    padding:12px 16px;border-radius:14px;background:linear-gradient(135deg,var(--accent),#4be3d1);
    color:#041221;font-weight:800;font-size:.9rem;line-height:1.2;box-shadow:0 12px 28px rgba(0,198,255,.28);border:none;cursor:pointer;
  }

  /* HERO */
  .hero{
    position:relative;padding:120px 0 64px;display:grid;grid-template-columns:1fr 1fr;gap:40px;align-items:center;
  }
  .h1{
    font-size:clamp(32px,3.4vw,56px);line-height:1.04;margin:0 0 14px;letter-spacing:-.5px;
    background:linear-gradient(90deg,#fff,#9ad6ff 55%,#ffe189 85%);
    -webkit-background-clip:text;color:transparent;font-weight:800;
  }
  .hero__scarcity{
    font-size:.8rem;font-weight:700;line-height:1.3;color:var(--accent);
    background:rgba(0,198,255,.08);border:1px solid rgba(0,198,255,.4);border-radius:8px;display:inline-block;padding:6px 8px;
    box-shadow:0 0 24px rgba(0,198,255,.4),0 24px 60px rgba(0,0,0,.9);margin-bottom:12px;
  }
  .hero__claim{font-size:1rem;font-weight:700;line-height:1.4;color:var(--text);max-width:640px;margin:0 0 14px;}
  .hero__trustline{margin-top:16px;font-size:.8rem;line-height:1.5;font-weight:600;color:var(--muted);max-width:640px;}
  .hero__trustline b{color:var(--text);font-weight:700;}

  .scrollhint{display:flex;align-items:center;gap:8px;margin-top:20px;font-size:.75rem;font-weight:600;color:var(--muted);opacity:.75;}
  .scrollhint__dot{
    width:6px;height:18px;border-radius:3px;
    background:radial-gradient(circle at 50% 0%,rgba(0,198,255,1) 0%,rgba(0,198,255,0) 70%);
    box-shadow:0 0 10px rgba(0,198,255,.9),0 0 40px rgba(0,198,255,.5);
    animation:scrollpulse 1.8s infinite;
  }
  @keyframes scrollpulse{
    0%{opacity:1;transform:translateY(0)}
    50%{opacity:.2;transform:translateY(6px)}
    100%{opacity:1;transform:translateY(0)}
  }
  .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:12px;border:1px solid var(--border);font-weight:800;font-size:.9rem;line-height:1.2;cursor:pointer}
  .btn--primary{background:linear-gradient(135deg,var(--accent),#4be3d1);color:#041221;border:none;box-shadow:0 10px 22px rgba(0,198,255,.25)}
  .btn--ghost{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));color:var(--text)}

  .statbar{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-top:18px}
  .stat{
    background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));
    border:1px solid var(--border);border-radius:16px;padding:14px;text-align:center;box-shadow:var(--shadow);
  }
  .stat .v{font-weight:800;font-size:18px;line-height:1.2;color:var(--text)}
  .stat .k{color:var(--muted);font-size:12px;line-height:1.2;font-weight:500}

  .mock-wrap{position:relative}
  #mockGlow.mock-glow{
    position:absolute;inset:-60px;z-index:0;pointer-events:none;filter:blur(40px);
    background:radial-gradient(circle at var(--gx,50%) var(--gy,50%),rgba(0,198,255,.45) 0%,rgba(75,227,209,.22) 35%,rgba(0,198,255,0) 70%);
  }
  .mock{
    position:relative;border:1px solid var(--border);border-radius:20px;overflow:hidden;background:#0b1020;
    height:540px;max-height:540px;
    box-shadow:0 0 80px rgba(0,198,255,.35),0 40px 120px rgba(0,0,0,.6);z-index:1;
  }
  .mock__slide{
    position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;transform:scale(1.03);
    transition:opacity 1s ease, transform 9s ease;
  }
  .mock__slide.active{opacity:1;transform:scale(1.08);}
  .mock__nav{
    position:absolute;bottom:12px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:2;
  }
  .dot{
    width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,.32);cursor:pointer;transition:transform .2s,background .2s;
  }
  .dot.active{background:linear-gradient(135deg,var(--accent),#4be3d1);transform:scale(1.2);}
  .mock__toggle{
    position:absolute;top:12px;right:12px;z-index:2;padding:7px 10px;border-radius:10px;border:1px solid var(--border);
    background:rgba(255,255,255,.06);backdrop-filter:blur(8px);font-weight:900;font-size:12px;line-height:1.2;color:var(--text);cursor:pointer;
  }

  .section__head{display:flex;align-items:baseline;justify-content:space-between;flex-wrap:wrap;gap:12px;margin-bottom:18px;}
  .section__title{font-size:clamp(22px,2.2vw,34px);letter-spacing:-.2px;font-weight:700;color:var(--text);}
  .pill{font-size:12px;color:#06142b;background:linear-gradient(135deg,var(--accent-2),#ffe39a);border-radius:999px;padding:6px 10px;font-weight:800;line-height:1.2}
  .panel{
    background:rgba(14,20,42,.66);border:1px solid var(--border);border-radius:var(--radius-lg);
    box-shadow:var(--shadow);padding:16px 16px;line-height:1.5;color:var(--text)
  }

  .cards{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
  .card{
    padding:18px;border-radius:16px;border:1px solid var(--border);
    background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));
    display:flex;flex-direction:column;gap:12px;align-items:flex-start;justify-content:space-between;
    box-shadow:var(--shadow);min-height:100%;
  }
  .card h3{margin:0;font-weight:700;color:var(--text);line-height:1.3;font-size:1rem}
  .card p{margin:0;color:var(--muted);font-size:.9rem;line-height:1.4;font-weight:500}
  .card ul,.card ol{margin:0 0 0 18px;padding:0;color:var(--muted);font-size:.9rem;line-height:1.4;font-weight:500}
  .card li{margin:4px 0}

  .chassis-vis{display:flex;flex-wrap:wrap;gap:16px;margin-top:16px}
  .chassis-vis__item{
    flex:1 1 260px;background:rgba(17,22,38,.7);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);padding:16px;text-align:center;
  }
  .chassis-vis__img{width:100%;max-width:320px;margin:0 auto 12px;height:auto}
  .chassis-vis__label{font-size:.8rem;font-weight:700;line-height:1.3;color:var(--text)}
  .chassis-vis__note{font-size:.75rem;font-weight:500;line-height:1.4;color:var(--muted)}

  .force-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;align-items:flex-start;}
  .force-vis{
    background:rgba(0,0,0,.4);border:1px solid rgba(0,198,255,.4);border-radius:14px;
    box-shadow:0 24px 60px rgba(0,0,0,.8), 0 0 60px rgba(0,198,255,.18);
    padding:16px;text-align:center;font-size:.75rem;line-height:1.4;font-weight:500;color:var(--muted)
  }
  .force-vis img{
    width:100%;height:auto;display:block;margin:0 auto 12px;border-radius:10px;border:1px solid var(--border);
    box-shadow:0 24px 60px rgba(0,0,0,.8), 0 0 60px rgba(0,198,255,.18);background:#000;
  }
  .force-cards{display:flex;flex-direction:column;gap:12px;}
  .proof-cell{
    background:rgba(0,0,0,.4);border:1px solid rgba(0,198,255,.4);border-radius:14px;
    box-shadow:0 24px 60px rgba(0,0,0,.8),0 0 60px rgba(0,198,255,.18);
    padding:16px;font-size:.8rem;line-height:1.4;font-weight:500;color:var(--text);
    transition:box-shadow .25s,transform .25s;
  }
  .proof-cell:hover{box-shadow:0 32px 80px rgba(0,0,0,.9),0 0 80px rgba(0,198,255,.28);transform:translateY(-2px);}
  .proof-head{font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.03em;color:var(--accent);margin-bottom:4px}
  .proof-metric{font-size:.9rem;font-weight:700;color:var(--text);margin-bottom:4px}
  .proof-desc{color:var(--muted);font-size:.8rem;line-height:1.4;font-weight:500}

  .specgrid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}
  .specbox{
    background:rgba(17,22,38,.7);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);
    padding:16px;min-height:160px;display:flex;flex-direction:column;justify-content:space-between
  }
  .specbox__head{font-size:.8rem;font-weight:700;color:var(--accent);text-transform:uppercase;letter-spacing:.03em;line-height:1.3;margin-bottom:8px}
  .specbox__metric{font-size:1.05rem;font-weight:800;line-height:1.3;color:var(--text);margin-bottom:6px}
  .specbox__desc{font-size:.8rem;line-height:1.4;font-weight:500;color:var(--muted)}

  .config-summary{
    margin-top:16px;border:1px solid var(--border);border-radius:var(--radius-md);
    background:rgba(14,20,42,.66);box-shadow:var(--shadow);padding:16px 20px;
    display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:12px;
    font-size:.9rem;line-height:1.4;color:var(--text);font-weight:600;
  }
  .config-summary .total{font-weight:800;font-size:1rem;color:var(--accent)}
  .config-summary .small{color:var(--muted);font-weight:500;font-size:.8rem;line-height:1.3}

  #stickyCTA{
    position:fixed;right:16px;bottom:16px;z-index:50;display:none;
    background:linear-gradient(135deg,var(--accent),#4be3d1);color:#041221;font-weight:800;font-size:.8rem;line-height:1.2;
    padding:12px 16px;border-radius:12px;
    box-shadow:0 0 16px rgba(0,198,255,.7),0 24px 40px rgba(0,198,255,.4),0 10px 30px rgba(0,0,0,.9);
    border:none;cursor:pointer;
  }

  footer{
    padding:40px 0 60px;color:var(--muted);border-top:1px solid var(--border);
    background:linear-gradient(to top,rgba(0,0,0,.8) 0%,rgba(6,10,24,.55) 60%);
    margin-top:40px;font-size:.85rem;line-height:1.4;text-align:center;
  }
  .footer-note{font-size:.7rem;line-height:1.4;color:var(--muted);max-width:600px;margin:12px auto 0;font-weight:500}

  #moduleList{display:grid;gap:24px;align-content:start}
  .group-head{display:flex;flex-direction:column;gap:6px}
  .group-head h3{margin:0;font-size:1rem;font-weight:700;line-height:1.3;color:var(--text)}
  .group-head .lede{font-size:.8rem;line-height:1.4;max-width:none}
  .config-group{
    border-radius:20px;padding:20px;background:rgba(10,14,30,.6);box-shadow:0 30px 80px rgba(0,0,0,.8);
    border:1px solid var(--border);display:grid;gap:12px;position:relative
  }
  .config-group--core{background:radial-gradient(circle at 10% 0%,rgba(90,110,170,.08) 0%,rgba(0,0,0,0) 60%), rgba(20,24,40,.6);border:1px solid rgba(255,255,255,.18)}
  .config-group--monitor{background:radial-gradient(circle at 0% 0%,rgba(0,198,255,.12) 0%,rgba(0,0,0,0) 60%), rgba(0,30,45,.55);border:1px solid rgba(0,198,255,.6)}
  .config-group--flight{background:radial-gradient(circle at 0% 0%,rgba(75,227,209,.14) 0%,rgba(0,0,0,0) 60%), rgba(0,40,35,.55);border:1px solid rgba(75,227,209,.6)}
  .config-group--racing{background:radial-gradient(circle at 0% 0%,rgba(255,210,63,.14) 0%,rgba(0,0,0,0) 60%), rgba(40,30,0,.5);border:1px solid rgba(255,210,63,.6)}
  .config-group--stream{background:radial-gradient(circle at 0% 0%,rgba(255,0,200,.16) 0%,rgba(0,0,0,0) 60%), rgba(40,0,35,.5);border:1px solid rgba(255,0,200,.5)}

  .config-card{
    padding:18px;border-radius:16px;border:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));
    box-shadow:var(--shadow);cursor:pointer;display:flex;flex-direction:column;gap:8px;color:var(--text);position:relative
  }
  .config-card strong{font-size:.9rem;font-weight:700;line-height:1.3;color:var(--text);display:block}
  .config-card p{margin:0;color:var(--muted);font-size:.8rem;line-height:1.4;font-weight:500}
  .config-card input{display:none}
  .requires-dynamic.locked{opacity:.45;filter:saturate(70%) grayscale(20%)}
  .req-note{display:none;margin-top:6px;font-size:.7rem;font-weight:700;color:var(--accent);background:rgba(0,198,255,.08);border:1px dashed rgba(0,198,255,.4);padding:6px 8px;border-radius:8px}
  .requires-dynamic.locked .req-note{display:block}

  aside.panel{position:sticky;top:100px;padding:20px}

  @media (max-width:1080px){
    .hero{grid-template-columns:1fr}
    .mock{height:400px;max-height:400px}
    .brand__center{order:2;flex:1 1 100%;max-width:100%;margin-top:12px;}
    .nav__right{order:3;margin-left:auto;}
    .nav{--nav-h:190px;}
  }
  @media (max-width:980px){
    .statbar{grid-template-columns:repeat(2,1fr)}
    .cards{grid-template-columns:1fr}
    :root{--logo-h:46px}
    .force-grid{grid-template-columns:1fr;}
  }
  @media (max-width:520px){
    .nav{--nav-h:210px;}
    .brand__logo-img{height:72px;max-height:72px;}
    .brand__tagline,.brand__name{font-size:1.6rem;line-height:1.15;}
    .brand__subline{font-size:.7rem;}
    .hero{padding-top:100px;}
    .config-summary{flex-direction:column;align-items:flex-start}
    .ambassador-badge{width:100%;justify-content:flex-start}
  }
  </style>
</head>

<body>
<canvas id="aiCanvas"></canvas>

<button id="stickyCTA" onclick="document.querySelector('#reserve').scrollIntoView({behavior:'smooth'})">
  Reserve / Ask
</button>

<nav class="nav" aria-label="Primary">
  <div class="nav__inner">
    <div class="brand" aria-label="CoreFlux">
      <img class="brand__logo-img" src="assets/images/coreflux-logo.png" alt="CoreFlux Simpits logo">
    </div>
    <div class="brand__center">
      <div class="brand__tagline">One Rig. All Roles.</div>
      <div class="brand__name">CoreFlux Simpits</div>
      <div class="brand__subline">Pilot Batch #1 now forming</div>
    </div>
    <div class="nav__right">
      <div class="ambassador-badge" aria-label="CoreFlux ambassador">
        <img src="assets/images/logos/fight3rphoenix.png" alt="FIGHT3RPHOENIX" class="ambassador-logo" loading="lazy">
        <div class="ambassador-text">
          <small>Ambassador</small>
          <strong>FIGHT3RPHOENIX</strong>
        </div>
      </div>
      <div class="nav__cta-wrap">
        <a class="cta" href="#reserve">Reserve Access</a>
      </div>
    </div>
  </div>
</nav>

<section class="hero wrap">
  <div>
    <h1 class="h1">One Rig. Infinite Worlds.</h1>
    <div class="hero__scarcity">Pilot Batch #1 is filling now.</div>
    <p class="hero__claim">
      Static or motion-capable. Work at 09:00. FPS at lunch. ACC at 20:00. Carrier ops in DCS at 23:30.
      Same seat. Same footprint. No teardown.
    </p>
    <p class="lede">
      The CoreFlux Dynamic Simpit converts from deep-focus workstation to FPS gunner seat, to race chassis,
      to full HOTAS/dual-stick flight cockpit — in minutes. Your call: planted Static frame, or
      actuator-ready Dynamic frame designed around Qubic System motion hardware.
    </p>
    <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
      <a href="#reserve" class="btn btn--primary">Reserve My Slot</a>
      <a href="#chassis" class="btn btn--ghost">Static vs Dynamic</a>
    </div>
    <div class="hero__trustline"><b>≤5 min mode switch</b> · <b>2 hr assembly</b> · <b>No drilling</b> · Holds direct-drive torque + loadcell brake force + actuator load.</div>
    <div class="statbar">
      <div class="stat"><div class="v">≤ 5 min</div><div class="k">Mode switch</div></div>
      <div class="stat"><div class="v">4080</div><div class="k">Aluminium</div></div>
      <div class="stat"><div class="v">VESA</div><div class="k">75/100</div></div>
      <div class="stat"><div class="v">Zero</div><div class="k">Drilling</div></div>
    </div>
    <div class="scrollhint"><div class="scrollhint__dot"></div><div>Scroll to pick your chassis →</div></div>
  </div>

  <div class="mock-wrap">
    <div class="mock-glow" id="mockGlow"></div>
    <div class="mock" id="mock" aria-label="CoreFlux Simpits dynamic cockpit views">
      <button class="mock__toggle" id="fitToggle" type="button" aria-pressed="true">Fill</button>
      <img class="mock__slide active" src="assets/images/frame-left.png" alt="CoreFlux Dynamic simpit frame left view with racing wheel mount, HOTAS stations, motion-ready brace points">
      <img class="mock__slide" src="assets/images/frame-right.png" alt="CoreFlux Dynamic sim rig frame right view showing seat rails, pedal base, actuator gussets">
      <div class="mock__nav" role="tablist" aria-label="Rig images">
        <span class="dot active" role="tab" aria-selected="true" aria-label="Left side cockpit frame view"></span>
        <span class="dot" role="tab" aria-selected="false" aria-label="Right side cockpit frame view"></span>
      </div>
    </div>
  </div>
</section>

<section id="prologue" class="wrap">
  <div class="section__head">
    <h2 class="section__title">Built for Workdays, Wired for Play</h2>
    <span class="pill">One stop. No compromise.</span>
  </div>
  <p class="lede">
    Work, FPS, racing, full flight — without rebuilding a room. Fast to re-configure, comfortable all day, and clean enough for the living room or office. This is not PVC cosplay. It’s hardware.
  </p>
  <div class="cards" style="margin-top:16px">
    <article class="card">
      <h3>Focus without friction</h3>
      <p class="lede">It feels like a proper workstation, because it is.</p>
      <p>Keyboard, mouse, mic, camera, Stream Deck — all frame-mounted. Cable runs are tidy. Nothing wobbles on stream.</p>
    </article>
    <article class="card">
      <h3>Flow, not setup</h3>
      <p class="lede">Mode-switching in minutes, not hours.</p>
      <p>Indexed geometry locks angles and reach. Swap HOTAS, wheel, shifter, pedals without re-measuring or guessing your posture again.</p>
    </article>
    <article class="card">
      <h3>Comfort that lasts</h3>
      <p class="lede">All-day ergonomics, all-night sessions.</p>
      <p>Seat rails, pedal reach, arm support, and monitor height all dial in. The frame absorbs the torque and brake force — you don’t.</p>
    </article>
  </div>
</section>

<section id="story" class="wrap">
  <div class="section__head">
    <h2 class="section__title">The Switch</h2>
    <span class="pill">Work → FPS → Racing → Flight</span>
  </div>
  <div class="cards">
    <article class="card">
      <h3>Workstation → FPS</h3>
      <p class="lede">Sit-stand posture dialed. Keyboard clears, sticks come in.</p>
      <p>Rigid 4080 extrusion, zero flex, clean cable routing. You’re not fighting your desk anymore.</p>
    </article>
    <article class="card">
      <h3>FPS → Racing</h3>
      <p class="lede">Wheel on, pedals locked, muscle memory intact.</p>
      <p>Pedal rails snap to your indexed marks. Loadcell brake doesn’t kick the frame forward.</p>
    </article>
    <article class="card">
      <h3>Racing → Flight</h3>
      <p class="lede">Center-stick / dual-stick / yoke. Swap without chaos.</p>
      <p>Avionics, throttle, and rudder pedal base move into true aircraft geometry instead of “good enough.”</p>
    </article>
  </div>
</section>

<section id="frame-pre" class="wrap">
  <div class="section__head">
    <h2 class="section__title">Why normal setups don't work</h2>
    <span class="pill">You’re already fighting the gear</span>
  </div>
  <div class="panel">
    <div class="cards" style="grid-template-columns:repeat(auto-fit,minmax(240px,1fr));margin:0;">
      <article class="proof-cell">
        <div class="proof-head">Desk Clamp</div>
        <div class="proof-metric">Desk flex = aim drift</div>
        <div class="proof-desc">Monitors too high. Wheel shakes the table. Mic arm wobbles every time you fire.</div>
      </article>
      <article class="proof-cell">
        <div class="proof-head">Wheel Stand</div>
        <div class="proof-metric">Trip hazard. Spaghetti.</div>
        <div class="proof-desc">Pedals walk forward on braking. Angles never match twice. Living room looks wrecked.</div>
      </article>
      <article class="proof-cell">
        <div class="proof-head">PVC Cockpit</div>
        <div class="proof-metric">Great racer. Bad desk.</div>
        <div class="proof-desc">No keyboard tray, no camera arm, trash posture. You can’t work 8 hours a day in that thing.</div>
      </article>
    </div>
  </div>
</section>

<section id="frame" class="wrap">
  <div class="section__head">
    <h2 class="section__title">The Frame</h2>
    <span class="pill">4080 aluminium / indexed geometry</span>
  </div>
  <div class="specgrid">
    <div class="specbox">
      <div>
        <div class="specbox__head">Structure</div>
        <div class="specbox__metric">4080 anodized extrusion</div>
        <div class="specbox__desc">Industrial profile. Pre-cut. All fasteners included. Zero drilling. Apartment safe.</div>
      </div>
    </div>
    <div class="specbox">
      <div>
        <div class="specbox__head">Repeatability</div>
        <div class="specbox__metric">Indexed mount points</div>
        <div class="specbox__desc">Angles and reach return to the exact same marks every time. Your posture survives swaps.</div>
      </div>
    </div>
    <div class="specbox">
      <div>
        <div class="specbox__head">Cable sanity</div>
        <div class="specbox__metric">Internal routing</div>
        <div class="specbox__desc">Tie-down channels and pass-throughs keep USB and power out of your feet and out of camera frame.</div>
      </div>
    </div>
  </div>
</section>

<section id="force" class="wrap">
  <div class="section__head">
    <h2 class="section__title">Force & Motion Handling</h2>
    <span class="pill">Direct drive. Loadcell. Actuator load.</span>
  </div>
  <div class="force-grid">
    <aside class="force-vis">
      <img src="assets/images/frame-left.png" loading="lazy" alt="CoreFlux Dynamic actuator-ready cockpit frame with reinforced cross members for DD wheel torque and motion load">
      <div style="color:var(--text);font-weight:700;font-size:.8rem;line-height:1.3;margin-bottom:4px">Braced Under Load</div>
      Holds DD wheel torque, full loadcell brake force, and motion shock from actuators without walking or twisting.
    </aside>
    <div class="force-cards">
      <article class="proof-cell">
        <div class="proof-head">Torque</div>
        <div class="proof-metric">> 15 Nm wheel bases</div>
        <div class="proof-desc">Steering ties into a reinforced cross member. The column doesn’t yaw under force, so you’re not countersteering flex.</div>
      </article>
      <article class="proof-cell">
        <div class="proof-head">Brake</div>
        <div class="proof-metric">Loadcell stability</div>
        <div class="proof-desc">Pedal tray locks into indexed rails. You can stand on the brake and the pedal base doesn’t creep forward on tile or wood.</div>
      </article>
      <article class="proof-cell">
        <div class="proof-head">Motion Shock</div>
        <div class="proof-metric">Actuator bracing</div>
        <div class="proof-desc">Dynamic chassis is gusseted for heave / surge cues. Geometry holds alignment under motion so your seated position stays true lap to lap.</div>
      </article>
    </div>
  </div>
</section>

<section id="motion" class="wrap">
  <div class="section__head">
    <h2 class="section__title">Actuator Ecosystem</h2>
    <span class="pill">Qubic System compatible</span>
  </div>
  <div class="panel" style="display:grid;grid-template-columns:1fr 1fr;gap:20px;align-items:start;">
    <div style="font-size:.9rem;line-height:1.5;font-weight:500;color:var(--muted);">
      <p style="color:var(--text);font-weight:700;margin-top:0;font-size:1rem;line-height:1.4;">Motion-ready out of the box.</p>
      <p style="margin-top:0;">
        The Dynamic CoreFlux frame is designed around popular high-end actuator platforms like
        <strong>Qubic System</strong> (3DoF/4DoF), so you can run heave, surge, traction loss and more.
      </p>
      <ul style="margin:0 0 16px 18px;padding:0;font-size:.8rem;line-height:1.4;color:var(--muted);font-weight:500;">
        <li>Pre-braced mounting points for Qubic System style actuator stacks</li>
        <li>Crossmembers gusseted to resist shock load without knocking alignment out</li>
        <li>Upgrade path: start Static today, bolt motion on later</li>
      </ul>
      <p style="margin-top:0;font-size:.8rem;line-height:1.4;color:var(--muted);">
        Want D-Box / PT-Actuator / other motion kits? We’ll plate it. Send bolt pattern in the reserve form.
      </p>
    </div>

    <div style="background:rgba(0,0,0,.4);border:1px solid rgba(0,198,255,.4);border-radius:14px;box-shadow:0 24px 60px rgba(0,0,0,.8),0 0 60px rgba(0,198,255,.18);padding:16px;text-align:center;">
      <img src="assets/images/qubic-actuators.jpg" loading="lazy" alt="High-end motion simulator actuator stack similar to Qubic System mounted to a reinforced simpit frame" style="width:100%;height:auto;border-radius:10px;border:1px solid var(--border);box-shadow:0 24px 60px rgba(0,0,0,.8),0 0 60px rgba(0,198,255,.18);background:#000;">
      <div style="color:var(--text);font-weight:700;font-size:.8rem;line-height:1.3;margin-top:12px;">Dynamic Frame + Motion</div>
      <div style="font-size:.75rem;line-height:1.4;font-weight:500;color:var(--muted);">
        Built to take actuator load. You feel the car/airframe — not the chassis twisting.
      </div>
    </div>
  </div>

  <div class="panel" style="margin-top:16px;">
    <div style="font-size:.8rem;line-height:1.5;font-weight:600;color:var(--text);">Pilot Feedback</div>
    <blockquote style="margin:8px 0 0 0;font-size:.8rem;line-height:1.5;font-weight:500;color:var(--muted);border-left:2px solid var(--accent);padding-left:10px;">
      “I went from office mode to ACC with traction loss and surge cues in under two minutes. It doesn’t feel like a DIY rig. It feels like hardware.”
    </blockquote>
  </div>
</section>

<section id="chassis" class="wrap">
  <div class="section__head">
    <h2 class="section__title">Pick Your Chassis</h2>
    <span class="pill">Static vs Dynamic</span>
  </div>

  <div class="chassis-vis">
    <div class="chassis-vis__item">
      <img class="chassis-vis__img" src="assets/images/Iso%20View%202.png" loading="lazy" alt="Static CoreFlux chassis, planted aluminium sim cockpit without actuators">
      <div class="chassis-vis__label">Static Frame</div>
      <div class="chassis-vis__note">Planted. Quiet. Apartment-safe.</div>
    </div>
    <div class="chassis-vis__item">
      <img class="chassis-vis__img" src="assets/images/Iso%20View.png" loading="lazy" alt="Dynamic CoreFlux chassis, actuator-ready motion capable simpit frame">
      <div class="chassis-vis__label">Dynamic Frame</div>
      <div class="chassis-vis__note">Actuator-ready. Braced for motion load.</div>
    </div>
  </div>

  <div class="cards" style="margin-top:14px">
    <article class="card">
      <h3>Static Frame</h3>
      <p class="lede">Locked. Silent. Apartment-safe.</p>
      <p>Zero actuators. Still supports DD wheels, loadcell pedals, HOTAS, dual/quad display.</p>
      <p><strong>Why:</strong> Cheaper entry, no floor drama with neighbors or landlord.</p>
    </article>
    <article class="card">
      <h3>Dynamic Frame</h3>
      <p class="lede">Motion-capable. Built to take hits.</p>
      <p>Reinforced members and actuator points translate telemetry into heave/surge/traction loss cues without twisting the cockpit.</p>
      <p><strong>Why:</strong> Race/flight cues you can feel in your body instead of just on-screen.</p>
      <p style="font-size:.75rem;line-height:1.4;color:var(--muted);font-weight:500">
        Motion hardware is third-party. We build the geometry, bracing, and mounting pattern, not a theme-park ride.
      </p>
    </article>
    <article class="card">
      <h3>Upgrade Path</h3>
      <p class="lede">Static today → Dynamic later.</p>
      <p>Shared geometry. Controls and mounts carry forward.</p>
      <p><strong>No rebuild.</strong> You don’t have to “buy twice.”</p>
    </article>
  </div>

  <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:16px">
    <a href="#reserve" class="btn btn--primary">Spec My Chassis</a>
    <a href="#reserve" class="btn btn--ghost">Reserve Pilot Batch</a>
  </div>
</section>

<section id="kits" class="wrap">
  <div class="section__head">
    <h2 class="section__title">Starter Kits</h2>
    <span class="pill">One frame. Your loadout.</span>
  </div>

  <p class="lede" style="margin-bottom:16px;max-width:800px">
    Every CoreFlux Simpit is modular. Add racing controls, HOTAS, pedals, triples/quad screens, camera arms,
    streaming deck, even motion actuation. Start lean or go full send. This is not “a cockpit.”
    This is your command seat.
  </p>

  <div class="cards">
    <article class="card" style="border:1px solid rgba(0,198,255,.5);box-shadow:0 24px 60px rgba(0,198,255,.25),0 0 60px rgba(0,198,255,.18)">
      <h3>All-In-One Simpit</h3>
      <p class="lede">Workstation • FPS • Racing • Flight • Stream • Motion-ready.</p>
      <p>
        Dynamic chassis with actuator hardpoints, direct-drive wheel mount, loadcell pedal tray,
        dual-stick / HOTAS / throttle rails, shifter & handbrake plate, Stream Deck + camera/light arms,
        and triple+overhead monitor stack with Tobii eye-tracking sightline.
      </p>
      <p><strong>Why:</strong> One rig that replaces your desk, race cockpit, flight pit, and streaming setup — and can take motion actuators without twisting.</p>
      <p style="font-size:.75rem;line-height:1.4;color:var(--muted);font-weight:500">
        This is the “I do everything” build. Sit down, pick mode, go.
      </p>
    </article>
    <article class="card">
      <h3>Work + FPS</h3>
      <p class="lede">Tuned for mouse control and aim stability.</p>
      <p>
        Static chassis + keyboard/mouse tray + single or dual-stick mounts. Camera and mic arms for calls/stream.
        Zero desk wobble, cables managed.
      </p>
      <p><strong>Why:</strong> Office by day, tac shooter at night, no rebuild.</p>
    </article>
    <article class="card">
      <h3>Race Spec</h3>
      <p class="lede">Direct-drive torque. Loadcell brake. Triple wrap.</p>
      <p>
        Dynamic chassis, indexed pedal mount, reinforced DD wheel arm, shifter / handbrake plate, plus triple or triple+HUD screens mounted to the frame.
      </p>
      <p><strong>Why:</strong> Repeatable seating geometry, no pedal walk, motion-capable later.</p>
    </article>
    <article class="card">
      <h3>Flight / Space</h3>
      <p class="lede">HOTAS, dual-stick, or center-stick — your airframe, your posture.</p>
      <p>
        Dynamic chassis with center-stick or dual-stick arms, throttle rails, adjustable rudder pedal base,
        overhead HUD / quad screen arc, and Tobii-ready line-of-sight.
      </p>
      <p><strong>Why:</strong> DCS, MSFS, Star Citizen with believable reach and zero cable mess.</p>
    </article>
  </div>

  <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:16px">
    <a href="#reserve" class="btn btn--primary">Spec My All-In-One Simpit</a>
    <a href="#reserve" class="btn btn--ghost">Reserve Pilot Batch</a>
  </div>
</section>

<section id="configurator" class="wrap">
  <div class="section__head">
    <h2 class="section__title">Configurator</h2>
    <span class="pill">Live total · Real modules</span>
  </div>
  <p class="lede">
    Step 1: choose Static or Dynamic base. Step 2: bolt on what you run. Total updates live.
    Typical Static builds land around $2.25k–$3.1k. Dynamic motion-ready builds land around $3.5k–$4.5k before actuators.
    <strong style="color:var(--text);display:block;margin-top:4px;">Pricing excludes shipping, duties and taxes from South Africa.</strong>
  </p>

  <!-- Config tutorial -->
  <div class="panel" style="margin-top:14px;margin-bottom:18px;display:flex;flex-wrap:wrap;gap:16px;align-items:flex-start">
    <div style="flex:1 1 180px;min-width:180px">
      <div style="font-size:.75rem;font-weight:700;color:var(--accent);text-transform:uppercase;letter-spacing:.03em;margin-bottom:6px">How to use this</div>
      <p style="margin:0;font-size:.78rem;color:var(--muted);line-height:1.4">
        1) Tap the card, not the checkbox. 2) If a card says “requires Dynamic,” we’ll auto-switch you to Dynamic. 3) Your build appears on the right. 4) Hit “Reserve” and send us your bolt pattern.
      </p>
    </div>
    <div style="flex:1 1 160px;min-width:180px">
      <p style="margin:0;font-size:.75rem;color:var(--muted);line-height:1.4">
        Want to start Static and upgrade later? Pick Static now, then add only the modules you need — the geometry is shared.
      </p>
    </div>
  </div>

  <div style="display:grid;grid-template-columns:2fr 1fr;gap:30px;align-items:start;margin-top:0">
    <div id="moduleList">
      <div class="config-group config-group--core">
        <div class="group-head" style="grid-column:1/-1">
          <h3>Core System</h3>
          <p class="lede">This is the chassis. Everything mounts to this geometry.</p>
        </div>

        <label class="config-card" data-group="baseframe" data-key="base-static">
          <input type="radio" name="baseframe" data-price="1250" data-label="STATIC BASE FRAME">
          <strong>STATIC BASE FRAME — $1,250</strong>
          <p>Motionless, silent platform. Apartment / shared-wall friendly.</p>
        </label>

        <label class="config-card" data-group="baseframe" data-key="base-dynamic">
          <input type="radio" name="baseframe" data-price="1815" data-label="DYNAMIC BASE FRAME" checked>
          <strong>DYNAMIC BASE FRAME — $1,815</strong>
          <p>Reinforced, actuator-ready. Braced for surge / heave / traction loss.</p>
        </label>

        <label class="config-card" data-key="pedaltray">
          <input type="checkbox" data-price="375" data-label="PEDAL TRAY / PLATE">
          <strong>PEDAL TRAY / PLATE — $375</strong>
          <p>Rigid pedal mount with indexed position. No forward walk.</p>
        </label>

        <label class="config-card" data-key="stand">
          <input type="checkbox" data-price="625" data-label="MONITOR STAND">
          <strong>MONITOR STAND — $625</strong>
          <p>Primary display stand (VESA 75/100). Rock-solid.</p>
        </label>

        <label class="config-card" data-key="deskpad">
          <input type="checkbox" data-price="150" data-label="MOUSE PAD BASE">
          <strong>MOUSE PAD BASE — $150</strong>
          <p>Keyboard + mouse tray for true desk posture even in cockpit mode.</p>
        </label>

        <label class="config-card" data-key="pulloutkb">
          <input type="checkbox" data-price="200" data-label="PULLOUT KEYBOARD TRAY">
          <strong>PULLOUT KEYBOARD TRAY — $200</strong>
          <p>Slide-out typing surface. Retracts instantly.</p>
        </label>
      </div>

      <div class="config-group config-group--monitor">
        <div class="group-head" style="grid-column:1/-1">
          <h3>Monitor System</h3>
          <p class="lede">Pick your viewport. Re-arm later anytime.</p>
        </div>

        <label class="config-card" data-group="monitor" data-key="single">
          <input type="radio" name="monitor" data-price="188" data-label="SINGLE MONITOR ARM">
          <strong>SINGLE MONITOR ARM — $188</strong>
          <p>One display arm (24–34″). Ideal for workstation / FPS.</p>
        </label>
        <label class="config-card" data-group="monitor" data-key="triple">
          <input type="radio" name="monitor" data-price="500" data-label="TRIPLE MONITOR ARM">
          <strong>TRIPLE MONITOR ARM — $500</strong>
          <p>Three-arm racing/flight wrap.</p>
        </label>
        <label class="config-card" data-group="monitor" data-key="quad">
          <input type="radio" name="monitor" data-price="563" data-label="QUAD MONITOR SETUP">
          <strong>QUAD MONITOR SETUP — $563</strong>
          <p>Triple horizon + overhead HUD/telemetry/chat.</p>
        </label>
      </div>

      <div class="config-group config-group--flight">
        <div class="group-head" style="grid-column:1/-1">
          <h3>Flight Controls</h3>
          <p class="lede">HOTAS / dual-stick / throttle. Repeatable reach every time.</p>
        </div>

        <label class="config-card" data-key="flight-single">
          <input type="checkbox" data-price="275" data-label="FLIGHT: STICK + THROTTLE">
          <strong>FLIGHT: STICK + THROTTLE — $275</strong>
          <p>Single-stick and throttle setup.</p>
        </label>

        <label class="config-card" data-key="flight-dual">
          <input type="checkbox" data-price="300" data-label="FLIGHT: DUAL STICK">
          <strong>FLIGHT: DUAL STICK — $300</strong>
          <p>Mirrored dual-stick arms. Star Citizen / heli ready.</p>
        </label>

        <label class="config-card" data-key="flight-pedal">
          <input type="checkbox" data-price="225" data-label="FLIGHT: PEDAL MOUNT">
          <strong>FLIGHT: PEDAL MOUNT — $225</strong>
          <p>Adjustable rudder pedal base.</p>
        </label>

        <label class="config-card requires-dynamic" data-key="flight-actuator">
          <input type="checkbox" data-price="475" data-label="FLIGHT: ACTUATOR MOUNT KIT" data-requires="dynamic">
          <strong>FLIGHT: ACTUATOR MOUNT KIT — $475</strong>
          <p>Hardpoints + reinforcement plates for Qubic-style kits.</p>
          <div class="req-note">Requires Dynamic Base Frame.</div>
        </label>
      </div>

      <div class="config-group config-group--racing">
        <div class="group-head" style="grid-column:1/-1">
          <h3>Racing Controls</h3>
          <p class="lede">Steering, pedals, shifting — under real torque.</p>
        </div>

        <label class="config-card" data-key="race-wheel">
          <input type="checkbox" data-price="313" data-label="RACING: WHEEL ARM">
          <strong>RACING: WHEEL ARM — $313</strong>
          <p>Direct-drive capable mount. Zero flex at 15+ Nm.</p>
        </label>

        <label class="config-card" data-key="race-pedal">
          <input type="checkbox" data-price="225" data-label="RACING: PEDAL MOUNT">
          <strong>RACING: PEDAL MOUNT — $225</strong>
          <p>Indexed pedal base. Holds under loadcell.</p>
        </label>

        <label class="config-card" data-key="race-shifter">
          <input type="checkbox" data-price="175" data-label="RACING: GEARSHIFT MOUNT">
          <strong>RACING: GEARSHIFT MOUNT — $175</strong>
          <p>Side-mounted shifter/handbrake plate.</p>
        </label>

        <label class="config-card requires-dynamic" data-key="race-actuator">
          <input type="checkbox" data-price="525" data-label="RACING: ACTUATOR MOUNT KIT" data-requires="dynamic">
          <strong>RACING: ACTUATOR MOUNT KIT — $525</strong>
          <p>Actuator crossmembers + gussets to carry surge/heave.</p>
          <div class="req-note">Requires Dynamic Base Frame.</div>
        </label>
      </div>

      <div class="config-group config-group--stream">
        <div class="group-head" style="grid-column:1/-1">
          <h3>Creator / Stream Setup</h3>
          <p class="lede">Camera, lighting, Stream Deck — frame mounted.</p>
        </div>
        <label class="config-card" data-key="stream-cam">
          <input type="checkbox" data-price="125" data-label="STREAM: CAMERA ARM">
          <strong>STREAM: CAMERA ARM — $125</strong>
          <p>Low-vibration arm for cockpit POV.</p>
        </label>
        <label class="config-card" data-key="stream-light">
          <input type="checkbox" data-price="150" data-label="STREAM: KEY LIGHT ARM">
          <strong>STREAM: KEY LIGHT ARM — $150</strong>
          <p>Frame mounted light, no shake.</p>
        </label>
        <label class="config-card" data-key="stream-deck">
          <input type="checkbox" data-price="115" data-label="STREAM: STREAM DECK ARM">
          <strong>STREAM: STREAM DECK ARM — $115</strong>
          <p>Dedicated arm for deck. Muscle memory placement.</p>
        </label>
      </div>
    </div>

    <aside class="panel">
      <h3>Your Build</h3>
      <ul id="buildLines" style="list-style:none;margin:10px 0 12px;padding:0;max-height:240px;overflow:auto"></ul>
      <p id="selectedCount" class="lede">0 modules selected</p>
      <h2 id="totalPrice" style="margin:10px 0;font-size:1.8rem">$1815</h2>
      <div style="font-size:.75rem;line-height:1.4;font-weight:600;color:var(--muted);margin-bottom:12px">
        Static = planted and quiet. Dynamic = actuator-ready, braced for motion. You can upgrade Static later.
        <br>Shipping/duties/taxes are separate from South Africa.
      </div>
      <a href="#reserve" class="btn btn--primary" style="width:100%;justify-content:center">Reserve My Slot</a>
    </aside>
  </div>
</section>

<section id="games" class="wrap">
  <div class="section__head">
    <h2 class="section__title">Games & Sims</h2>
    <span class="pill">Dialed for today’s titles</span>
  </div>
  <div class="cards" style="margin-top:14px">
    <article class="card">
      <h3>Flight</h3>
      <p class="lede">MSFS • DCS • X-Plane • IL-2</p>
      <p>Center-stick, dual-stick or yoke. Pedal tray alignment gives smooth rudder control without ankle strain.</p>
    </article>
    <article class="card">
      <h3>Racing</h3>
      <p class="lede">iRacing • ACC • Assetto • Forza</p>
      <p>Wheel mount clamps DD torque straight into the frame. Pedal rails hold under max loadcell brake hit.</p>
    </article>
    <article class="card">
      <h3>FPS / Tactical / Space Sim</h3>
      <p class="lede">CS • Valorant • Tarkov • Star Citizen</p>
      <p>Keyboard clearance, clean cable routes, and fast swap to dual-stick HOTAS / space controls for Star Citizen style flight-combat.</p>
    </article>
  </div>

  <div class="panel" style="margin-top:16px;display:flex;flex-wrap:wrap;gap:16px;align-items:flex-start">
    <div style="flex:2 1 260px;min-width:240px">
      <img src="assets/images/Quad%20Monitor%20Stand%20(2).jpg" loading="lazy" alt="Triple racing monitor wrap with overhead HUD and chat display mounted to CoreFlux simpit frame" style="width:100%;height:auto;border-radius:12px;border:1px solid var(--border);box-shadow:var(--shadow);background:#000;">
    </div>
    <div style="flex:1 1 200px;min-width:200px;font-size:.8rem;line-height:1.4;font-weight:500;color:var(--muted)">
      <div style="color:var(--text);font-weight:700;font-size:.8rem;line-height:1.3;margin-bottom:6px">Triples + Overhead HUD</div>
      That’s curved triples for race/FPS peripheral vision and an elevated HUD / maps / chat display — all mounted to the frame, not a wobbly desk arm.
    </div>
  </div>
</section>

<section id="fight3r" class="wrap">
  <div class="section__head">
    <h2 class="section__title">FIGHT3RPHOENIX — Ambassador Edition</h2>
    <span class="pill">Star Citizen streamer</span>
  </div>

  <div class="panel" style="display:flex;gap:20px;flex-wrap:wrap;align-items:flex-start">
    <div style="flex:1 1 280px;min-width:260px">
      <p>
        We partnered with <b>FIGHT3RPHOENIX</b> — a highly rated PvP player and Star Citizen streamer — to dial the <b>Phoenix Primus</b> layout.
        This is the same rig he currently flies and streams on.
      </p>
      <p>
        Seat, HOTAS/dual-stick, pedal base, cam/mic arms and stream displays are all on repeatable geometry, so he can go live without rebuilding the cockpit.
      </p>
      <p style="margin-top:8px">
        Watch him live:
        <a href="https://www.twitch.tv/FIGHT3RPHOENIX" target="_blank" rel="noreferrer">twitch.tv/FIGHT3RPHOENIX</a>
      </p>
    </div>

    <div style="flex:0 0 260px;max-width:260px">
      <div class="panel" style="background:rgba(255,255,255,.02);text-align:center">
        <img src="assets/images/logos/fight3rphoenix.png"
             alt="FIGHT3RPHOENIX"
             style="max-height:130px;object-fit:contain;margin:0 auto 12px"
             loading="lazy">
        <div style="font-weight:700">Phoenix Primus layout</div>
        <div style="font-size:.75rem;color:var(--muted)">Star Citizen cockpit + stream arms + pedal clearance</div>
      </div>
    </div>

    <ul style="flex:1 1 220px;min-width:200px;margin:0;padding-left:16px;color:var(--muted);font-size:.85rem;line-height:1.5">
      <li>HOTAS ↔ dual-stick swap in minutes</li>
      <li>Frame-mounted camera/mic — no wobble on stream</li>
      <li>Pedals on braced base, cable run out of frame</li>
      <li>Stream display mount within hand reach</li>
      <li>Apartment-safe — no wall drilling</li>
    </ul>
  </div>
</section>

<section id="compat" class="wrap">
  <div class="section__head">
    <h2 class="section__title">Your Gear Fits</h2>
    <span class="pill">No drilling</span>
  </div>
  <div class="cards" style="margin-top:14px">
    <article class="card">
      <h3>Flight Sticks / HOTAS</h3>
      <ul>
        <li>Virpil / Winwing / Thrustmaster / VKB</li>
        <li>Center-stick, dual-stick, or throttle patterns.</li>
        <li>Pedal tray clears common rudder sets.</li>
      </ul>
    </article>
    <article class="card">
      <h3>Racing Hardware</h3>
      <ul>
        <li>Fanatec / Moza / Simagic / Logitech DD</li>
        <li>Loadcell pedals, handbrake, H-pattern / sequential shifters.</li>
        <li>Torque goes into frame, not your desk.</li>
      </ul>
    </article>
    <article class="card">
      <h3>Streaming / Creator</h3>
      <ul>
        <li>Camera arm for face/overhead angles.</li>
        <li>Key/fill light arms for consistent lighting.</li>
        <li>Stream Deck arm where your hand already lives.</li>
      </ul>
    </article>
  </div>
</section>

<section id="vendors" class="wrap">
  <div class="section__head">
    <h2 class="section__title">Preferred Control Vendors</h2>
    <span class="pill">We plate for these out of the box</span>
  </div>
  <p class="lede" style="max-width:800px">
    We ship pre-drilled plates to match these ecosystems. No adapters. No guesswork. Bolt it on, tighten it down, fly / drive.
  </p>

  <div class="cards" style="margin-top:14px">
    <article class="card" style="border:1px solid rgba(0,198,255,.45);box-shadow:0 24px 60px rgba(0,198,255,.25),0 0 60px rgba(0,198,255,.2)">
      <h3>Virpil Controls</h3>
      <p class="lede">Constellation Alpha / Prime • MongoosT-50CM • VMAX Prime • ACE pedals</p>
      <ul>
        <li>Plates include stick + throttle + pedal patterns</li>
        <li>Clamp-free HOTAS — zero flex under pull</li>
        <li>Ready for dual-stick space / heli layouts</li>
      </ul>
    </article>
    <article class="card" style="border:1px solid rgba(255,210,63,.45);box-shadow:0 24px 60px rgba(255,210,63,.22),0 0 60px rgba(255,210,63,.18)">
      <h3>VKB Controllers</h3>
      <p class="lede">Gladiator / NXT / EVO • STECS throttle</p>
      <ul>
        <li>Side-stick and center-stick geometry supported</li>
        <li>Repeatable wrist-neutral positioning</li>
        <li>Swaps from “desk height” to “cockpit height” fast</li>
      </ul>
    </article>
    <article class="card" style="border:1px solid rgba(0,198,255,.4);box-shadow:0 24px 60px rgba(0,198,255,.22),0 0 60px rgba(0,198,255,.18)">
      <h3>Thrustmaster</h3>
      <p class="lede">Warthog • TCA Airbus / Boeing • TPR pedals • T818 DD wheel base</p>
      <ul>
        <li>Support for HOTAS, yokes, throttles, rudder pedals</li>
        <li>Mounting for flight and racing hardware in the same footprint</li>
        <li>Pre-drilled plates = no desk clamps, no flex</li>
      </ul>
    </article>
    <article class="card" style="border:1px solid rgba(0,198,255,.4);box-shadow:0 24px 60px rgba(0,198,255,.22),0 0 60px rgba(0,198,255,.18)">
      <h3>Moza Racing</h3>
      <p class="lede">R-series direct drive bases • QR hubs</p>
      <ul>
        <li>4-bolt DD pattern captured in reinforced wheel arm</li>
        <li>Holds torque without column wobble</li>
        <li>Pedal base braced for full loadcell pressure</li>
      </ul>
    </article>
    <article class="card" style="border:1px solid rgba(255,210,63,.4);box-shadow:0 24px 60px rgba(255,210,63,.22),0 0 60px rgba(255,210,63,.18)">
      <h3>Fanatec</h3>
      <p class="lede">Podium / ClubSport / CSL DD • QR2 ecosystem</p>
      <ul>
        <li>160×160 underside mount locked into frame rails</li>
        <li>Shifter / handbrake arm with indexed reach</li>
        <li>Stays aligned even under actuator surge</li>
      </ul>
    </article>
    <article class="card" style="border:1px solid rgba(0,198,255,.45);box-shadow:0 24px 60px rgba(0,198,255,.25),0 0 60px rgba(0,198,255,.2)">
      <h3>Tobii Eye Tracking</h3>
      <p class="lede">Tobii Eye Tracker 5 / Horizon</p>
      <ul>
        <li>Mount point for Tobii at correct sightline height</li>
        <li>Natural head/eye aim in flight and space sim cockpits</li>
        <li>Hands stay on HOTAS / wheel — camera follows you</li>
      </ul>
    </article>
  </div>

  <div class="panel" style="margin-top:24px;text-align:center">
    <div style="font-size:.8rem;line-height:1.4;font-weight:600;color:var(--text)">
      Running something else?<br>
      We cut customs. Send your bolt pattern in Reserve and we’ll plate it.
    </div>
  </div>
</section>

<section id="quickstart" class="wrap">
  <div class="section__head">
    <h2 class="section__title">Quick-Start</h2>
    <span class="pill">Pick a title, get dialed</span>
  </div>
  <div class="cards" style="margin-top:14px">
    <article class="card">
      <h3>Star Citizen</h3>
      <p class="lede">Dual-stick or HOTAS + pedals.</p>
      <ol>
        <li>Chassis: Dynamic.</li>
        <li>Loadout: <strong>Flight</strong> → Dual Stick / Stick + Throttle, Flight Pedal Mount, Quad Monitor Setup.</li>
        <li>Add: Flight Actuator Kit for motion cues.</li>
      </ol>
    </article>
    <article class="card">
      <h3>DCS / MSFS</h3>
      <p class="lede">Center-stick HOTAS + pedals.</p>
      <ol>
        <li>Chassis: Dynamic or Static.</li>
        <li>Loadout: Flight → Stick + Throttle, Flight Pedal Mount.</li>
        <li>Option: Flight Actuator Kit for carrier/helo cues.</li>
      </ol>
    </article>
    <article class="card">
      <h3>iRacing / ACC</h3>
      <p class="lede">Wheel + pedals; triples or quad.</p>
      <ol>
        <li>Chassis: Dynamic for motion; Static for planted torque only.</li>
        <li>Loadout: Racing → Wheel Arm, Racing Pedal Mount, Gearshift Mount, Triple/Quad.</li>
        <li>Option: Racing Actuator Kit for heave/brake surge / traction loss.</li>
      </ol>
    </article>
  </div>
</section>

<section id="fit" class="wrap">
  <div class="section__head">
    <h2 class="section__title">Fit Check</h2>
    <span class="pill">Real posture, not cosplay</span>
  </div>
  <div class="cards" style="margin-top:14px">
    <article class="card">
      <h3>Long-session comfort</h3>
      <p>Seat rails slide. Arm reach dials. Monitor height locks.</p>
    </article>
    <article class="card">
      <h3>Low visual noise</h3>
      <p>Clean enough for a living room or office. Cables disappear.</p>
    </article>
    <article class="card">
      <h3>72-hour test</h3>
      <p>Workday + game sessions + late flight ops without teardown.</p>
    </article>
  </div>

  <div class="panel" style="margin-top:16px;text-align:center">
    <img src="assets/images/Back%20View.png" loading="lazy" alt="Back view of CoreFlux cockpit frame showing seat rails, pedal base, HOTAS mounts, monitor stack in one footprint" style="width:100%;max-width:480px;height:auto;margin:0 auto 12px;border-radius:12px;border:1px solid var(--border);box-shadow:var(--shadow);background:#000;">
    <div style="font-size:.75rem;line-height:1.4;font-weight:500;color:var(--muted);max-width:520px;margin:0 auto">
      Seat rails, pedal base, HOTAS / shifter arms, monitor stack — all in one footprint.
    </div>
  </div>
</section>

<section id="reserve" class="wrap">
  <div class="section__head">
    <h2 class="section__title">Reserve Your Slot</h2>
    <span class="pill">Pilot batch</span>
  </div>
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:24px;align-items:start">
    <div class="panel" style="display:grid;gap:12px;max-width:420px">
      <div class="reserve-introline" style="font-size:.8rem;font-weight:700;line-height:1.4;color:var(--accent);text-transform:uppercase;letter-spacing:.03em">We're building with early adopters</div>
      <label style="font-size:.8rem;font-weight:600;color:var(--text);display:flex;flex-direction:column;gap:6px">Email
        <input id="rEmail" type="email" placeholder="you@email.com" style="border-radius:10px;border:1px solid var(--border);background:rgba(0,0,0,.4);color:var(--text);font-family:inherit;font-size:.9rem;line-height:1.3;padding:10px 12px;font-weight:600;outline:none">
      </label>
      <label style="font-size:.8rem;font-weight:600;color:var(--text);display:flex;flex-direction:column;gap:6px">Region
        <select id="rRegion" style="border-radius:10px;border:1px solid var(--border);background:rgba(0,0,0,.4);color:var(--text);font-family:inherit;font-size:.9rem;line-height:1.3;padding:10px 12px;font-weight:600;outline:none">
          <option value="">Select...</option>
          <option>US / Canada</option>
          <option>EU / UK</option>
          <option>AU / NZ</option>
          <option>South Africa</option>
          <option>Other</option>
        </select>
      </label>
      <label style="font-size:.8rem;font-weight:600;color:var(--text);display:flex;flex-direction:column;gap:6px">Primary Mode
        <select id="rMode" style="border-radius:10px;border:1px solid var(--border);background:rgba(0,0,0,.4);color:var(--text);font-family:inherit;font-size:.9rem;line-height:1.3;padding:10px 12px;font-weight:600;outline:none">
          <option value="">Select...</option>
          <option>Racing / ACC / iRacing</option>
          <option>Flight / DCS / MSFS</option>
          <option>FPS / Space Sim / Star Citizen</option>
          <option>Creator / Stream Desk + Simpit</option>
        </select>
      </label>
      <button id="reserveBtn" type="button" class="btn btn--primary" style="justify-content:center">Reserve My Spot</button>
      <div id="reserveNote" style="font-size:.75rem;line-height:1.4;font-weight:600;color:var(--muted);min-height:1.4em"></div>
    </div>
    <div class="panel" style="display:grid;gap:12px">
      <div style="font-size:.8rem;font-weight:700;color:var(--accent);text-transform:uppercase;letter-spacing:.03em;line-height:1.3">Step 1</div>
      <div style="font-size:.95rem;line-height:1.3;font-weight:700;color:var(--text)">You spec the rig</div>
      <div style="font-size:.8rem;line-height:1.4;color:var(--muted);font-weight:500;margin-bottom:8px">Static or Dynamic, racing / flight / creator gear, monitor layout, actuator interest.</div>

      <div style="font-size:.8rem;font-weight:700;color:var(--accent);text-transform:uppercase;letter-spacing:.03em;line-height:1.3">Step 2</div>
      <div style="font-size:.95rem;line-height:1.3;font-weight:700;color:var(--text)">We confirm fit + layout</div>
      <div style="font-size:.8rem;line-height:1.4;color:var(--muted);font-weight:500;margin-bottom:8px">We sanity-check clearances, posture, cable routing, DD torque, and actuator bracing.</div>

      <div style="font-size:.8rem;font-weight:700;color:var(--accent);text-transform:uppercase;letter-spacing:.03em;line-height:1.3">Step 3</div>
      <div style="font-size:.95rem;line-height:1.3;font-weight:700;color:var(--text)">You're in the pilot batch</div>
      <div style="font-size:.8rem;line-height:1.4;color:var(--muted);font-weight:500">Early chassis access, tuning notes, and priority for specialty mounts / actuator plates.</div>
    </div>
  </div>
</section>

<section class="wrap" id="phoenix-primus">
  <div class="section__head">
    <h2 class="section__title">Phoenix Primus — FIGHT3RPHOENIX Build Sheet</h2>
    <span class="pill">Real, streamed, dialed</span>
  </div>

  <div class="panel" style="display:grid;grid-template-columns:1.3fr .7fr;gap:20px;align-items:flex-start">
    <div>
      <p>
        This is not a fantasy spec. This is the actual Star Citizen rig FIGHT3RPHOENIX runs and streams — tuned for cockpit visibility,
        SC PvP ergonomics, and clean camera/light framing.
      </p>

      <h3 style="margin-top:14px;font-size:.85rem;text-transform:uppercase;letter-spacing:.04em;color:var(--accent)">Display Stack</h3>
      <ul style="margin:6px 0 0 16px;color:var(--muted);font-size:.8rem;line-height:1.45">
        <li>Static CoreFlux rig, center monitor arm</li>
        <li><strong>3 × 34″ AOC 1ms gaming panels</strong> in a 1000R arc (main cockpit wrap)</li>
        <li><strong>Dell 32″ hub monitor</strong> as overhead/top for maps, stream tools, chat</li>
        <li><strong>Tobii Eye Tracker 5</strong> mounted under the center panel</li>
      </ul>

      <h3 style="margin-top:14px;font-size:.85rem;text-transform:uppercase;letter-spacing:.04em;color:var(--accent)">Controls / Stream</h3>
      <ul style="margin:6px 0 0 16px;color:var(--muted);font-size:.8rem;line-height:1.45">
        <li><strong>Dual Virpil Constellation Alphas</strong> (true SC dual-stick)</li>
        <li><strong>VPC MongoosT-50CM2 throttle</strong></li>
        <li><strong>VPC Control Panel 1 add-on</strong> for quick ship / systems changes</li>
        <li><strong>No pedals</strong> — he doesn’t like pedals for Star Citizen, so cockpit clears the floor</li>
        <li><strong>2 × Elgato Key Lights</strong> frame-mounted for stable lighting</li>
        <li><strong>Elgato Stream Deck</strong> in reach, mounted, not loose on desk</li>
        <li><strong>Canon EOS streaming camera</strong> on a rigid arm = no wobble on stick input</li>
      </ul>

      <h3 style="margin-top:14px;font-size:.85rem;text-transform:uppercase;letter-spacing:.04em;color:var(--accent)">PC / Performance</h3>
      <ul style="margin:6px 0 0 16px;color:var(--muted);font-size:.8rem;line-height:1.45">
        <li><strong>CPU:</strong> AMD Ryzen 9 7950X3D</li>
        <li><strong>RAM:</strong> 64 GB Corsair Vengeance 6000 MHz</li>
        <li><strong>Motherboard:</strong> X670E Aorus Master</li>
        <li><strong>Storage:</strong> high-end NVMe M.2 (for SC load/asset streaming)</li>
        <li><strong>GPU:</strong> Radeon RX 7900 XTX driving 4 screens</li>
        <li><strong>Star Citizen perf:</strong> ±80 FPS @ <strong>10 320 × 1 440</strong> (ultra-wide quad layout)</li>
      </ul>
    </div>

    <div class="panel" style="background:rgba(0,0,0,.25);border:1px solid rgba(0,198,255,.25);box-shadow:0 22px 50px rgba(0,0,0,.45)">
      <h3 style="margin-top:0;font-size:.85rem">Phoenix Primus = what to tick</h3>
      <ul style="margin:6px 0 0 16px;color:var(--muted);font-size:.78rem;line-height:1.45">
        <li><strong>Base:</strong> Static (he’s on Static)</li>
        <li><strong>Monitor:</strong> Quad monitor setup</li>
        <li><strong>Flight:</strong> Dual Stick + Throttle</li>
        <li><strong>Stream:</strong> Camera arm + 2 × key light arms + Stream Deck arm</li>
        <li><strong>Extras:</strong> Tobii mount under center screen</li>
        <li><strong>Pedals:</strong> leave off (SC preference)</li>
      </ul>
      <p style="margin-top:10px;font-size:.7rem;color:var(--text);line-height:1.4">
        If you want headroom for motion later, flip the base to <strong>Dynamic</strong>. Geometry stays the same.
      </p>
    </div>
  </div>
</section>


<section id="faq" class="wrap">
  <div class="section__head">
    <h2 class="section__title">FAQ</h2>
    <span class="pill">Straight answers</span>
  </div>

  <details class="panel" style="margin:10px 0;">
    <summary style="font-weight:800;cursor:pointer;">Is it compatible with Qubic System actuators?</summary>
    <p>Yes. The Dynamic frame geometry is braced around popular Qubic System-style actuator layouts. We’ll confirm exact pattern when you reserve.</p>
  </details>

  <details class="panel" style="margin:10px 0;">
    <summary style="font-weight:800;cursor:pointer;">Can I run D-Box / PT-Actuator / other motion kits?</summary>
    <p>Usually yes. Send us your bolt pattern and we’ll tell you if it’s drop-in or needs an adapter.</p>
  </details>

  <details class="panel" style="margin:10px 0;">
    <summary style="font-weight:800;cursor:pointer;">Can I start Static and upgrade later?</summary>
    <p>Yes. Static → Dynamic is supported. Controls, screens, mounts all carry forward.</p>
  </details>
</section>

<footer>
  © <span id="year"></span> CoreFlux Simpits
  <div class="footer-note" style="margin-top:16px; line-height:1.6;">
    <strong>CoreFlux (Pty) Ltd</strong><br>
    Sandton<br>
    Johannesburg<br>
    South Africa
  </div>
  <div class="footer-note" style="margin-top:10px; line-height:1.6;">
    <strong>Contact</strong><br>
    Email: <a href="mailto:sales@coreflux.co.za" style="color:var(--accent);text-decoration:none;">sales@coreflux.co.za</a><br>
    Phone: <a href="tel:+27115688667" style="color:var(--accent);text-decoration:none;">+27 11 568 8667</a>
  </div>
  <div class="footer-note" style="margin-top:12px;">
    Geometry, actuator bracing, and tolerances are being dialed with pilot builders.
  </div>
</footer>

<script>
document.getElementById('year').textContent = new Date().getFullYear();

/* ---------- Hero carousel ---------- */
document.addEventListener('DOMContentLoaded', ()=>{
  const slides=[...document.querySelectorAll('.mock__slide')];
  const dots=[...document.querySelectorAll('.dot')];
  const mock=document.getElementById('mock');
  const fitBtn=document.getElementById('fitToggle');
  let i=0,timer;

  function show(n){
    i=(n+slides.length)%slides.length;
    slides.forEach((s,k)=>s.classList.toggle('active',k===i));
    dots.forEach((d,k)=>d.classList.toggle('active',k===i));
  }
  function play(){ timer=setInterval(()=>show(i+1), 5200); }
  function stop(){ clearInterval(timer); }

  dots.forEach((d,idx)=>d.addEventListener('click',(e)=>{
    e.stopPropagation();
    stop(); show(idx); play();
  }));

  if (mock){
    mock.addEventListener('mouseenter',stop);
    mock.addEventListener('mouseleave',play);
  }

  if (fitBtn){
    fitBtn.textContent = "Fill";
    fitBtn.setAttribute('aria-pressed', 'true');
    fitBtn.addEventListener('click', (e)=>{ e.preventDefault(); });
  }

  show(0);
  play();
});

/* ---------- Configurator (with 25% uplift) ---------- */
(function(){
  const root = document.getElementById('moduleList');
  if(!root) return;

  const totalEl = document.getElementById('totalPrice');
  const countEl = document.getElementById('selectedCount');
  const linesEl = document.getElementById('buildLines');

  // find radio groups
  const radioGroups = Array.from(new Set(
    [...root.querySelectorAll('input[type="radio"][name]')].map(i=>i.name)
  ));

  function parsePrice(input){
    const card = input.closest('.config-card');
    const strong = card ? card.querySelector('strong') : null;
    const src = (strong ? strong.textContent : '') || '';
    const matches = [...src.matchAll(/\$\s*([\d][\d,\s]*(?:\.\d+)?)/g)];
    if(!matches.length) return 0;
    const raw = matches[matches.length - 1][1].replace(/[,\s]/g,'');
    const n = Number(raw);
    return isNaN(n) ? 0 : n;
  }

  function labelFor(input){
    if (input.dataset.label) return input.dataset.label;
    const card = input.closest('.config-card');
    const strong = card ? card.querySelector('strong') : null;
    if (strong) return strong.textContent.replace(/\s*[–—-]\s*\$.*$/,'').trim();
    return input.name || 'Item';
  }

  function isDynamic(){
    const dyn = root.querySelector('input[name="baseframe"][data-label="DYNAMIC BASE FRAME"]');
    return dyn && dyn.checked;
  }

  function updateDynamicLocks(){
    const cards = root.querySelectorAll('.requires-dynamic');
    const dynamic = isDynamic();
    cards.forEach(card=>{
      const input = card.querySelector('input');
      if(dynamic){
        card.classList.remove('locked');
        input.disabled = false;
      } else {
        card.classList.add('locked');
        input.checked = false;
        input.disabled = true;
      }
    });
  }

  function selectedRadios(){
    const sel=[];
    for(const g of radioGroups){
      const r = root.querySelector(`input[type="radio"][name="${g}"]:checked`);
      if(r) sel.push(r);
    }
    return sel;
  }

  function recalc(){
    let total = 0;
    const picked = [];

    // checkboxes
    root.querySelectorAll('input[type="checkbox"]').forEach(ch=>{
      if(ch.disabled) return;
      if(ch.checked){
        const p = parsePrice(ch);
        total += p;
        picked.push(`${labelFor(ch)} — $${p}`);
      }
    });

    // radios
    selectedRadios().forEach(r=>{
      const p = parsePrice(r);
      total += p;
      picked.push(`${labelFor(r)} — $${p}`);
    });

    if(linesEl){
      linesEl.innerHTML = picked.map(t=>`<li style="padding:6px 0;border-bottom:1px solid var(--border)">${t}</li>`).join('');
    }
    if(countEl){
      countEl.textContent = `${picked.length} module${picked.length===1?'':'s'} selected`;
    }
    if(totalEl){
      totalEl.textContent = `$${total}`;
    }
  }

  // main click handler for cards
  root.querySelectorAll('.config-card').forEach(card=>{
    card.addEventListener('click',(e)=>{
      e.preventDefault(); // stop default label double-toggle
      const input = card.querySelector('input');
      if(!input) return;

      // if this one needs dynamic and user is on static, auto-switch to dynamic
      if(card.classList.contains('requires-dynamic') && !isDynamic()){
        const dyn = root.querySelector('input[name="baseframe"][data-label="DYNAMIC BASE FRAME"]');
        if(dyn){
          dyn.checked = true;
        }
      }

      updateDynamicLocks();

      // if after update it's disabled, don't go further
      if(input.disabled) {
        recalc();
        return;
      }

      if(input.type === 'checkbox'){
        input.checked = !input.checked;
      } else if (input.type === 'radio'){
        input.checked = true;
      }

      recalc();
    });
  });

  // normal change events (in case someone focuses + space presses)
  root.querySelectorAll('input').forEach(i=>{
    const p = parsePrice(i);
    if(p>0) i.dataset.price = String(p);
    if(!i.dataset.label) i.dataset.label = labelFor(i);
    i.addEventListener('change', ()=>{
      updateDynamicLocks();
      recalc();
    });
  });

  updateDynamicLocks();
  recalc();
})();

/* ---------- Sticky CTA ---------- */
(function(){
  const cta = document.getElementById('stickyCTA');
  const hero = document.querySelector('.hero');
  if(!cta || !hero) return;
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      cta.style.display = entry.isIntersecting ? 'none' : 'block';
    });
  }, {threshold:0.2});
  io.observe(hero);
})();

/* ---------- Reserve form ---------- */
(function(){
  const email  = document.getElementById('rEmail');
  const region = document.getElementById('rRegion');
  const mode   = document.getElementById('rMode');
  const btn    = document.getElementById('reserveBtn');
  const note   = document.getElementById('reserveNote');
  if(!btn) return;

  btn.addEventListener('click',()=>{
    const e  = email.value.trim();
    const rg = region.value.trim();
    const md = mode.value.trim();

    if(!e){
      note.textContent="Add an email so we can reach you.";
      note.style.color="var(--accent)";
      return;
    }
    if(!rg || !md){
      note.textContent="Tell us where you are and what you fly/drive.";
      note.style.color="var(--accent)";
      return;
    }

    const subject = encodeURIComponent("CoreFlux Simpits Pilot Batch Reservation");
    const body = encodeURIComponent(
`Email: ${e}
Region: ${rg}
Primary Mode: ${md}

Setup notes / hardware (optional):
- Wheel base / HOTAS / pedals:
- Triple / quad / VR:
- Static or Dynamic interest:
- Motion / actuator interest (Qubic, D-Box etc.):
- Anything we should know:`
    );
    const dest = "sales@coreflux.co.za";
    window.location.href = `mailto:${dest}?subject=${subject}&body=${body}`;

    note.textContent="Locked. We'll reach out with pilot batch details.";
    note.style.color="var(--text)";
  });
})();

/* ---------- AI canvas bg ---------- */
(function(){
  const c = document.getElementById('aiCanvas');
  if(!c) return;
  const ctx = c.getContext('2d');

  let w, h, pts = [];
  const MOBILE = window.innerWidth < 768;
  const DENSITY = MOBILE ? 0.00009 : 0.00012;
  const LINK_DIST = 140;
  const MAX_LINKS = 3;

  function resize(){
    w = c.width = window.innerWidth;
    h = c.height = window.innerHeight;
    const count = Math.max(90, Math.floor(w*h*DENSITY));
    pts = Array.from({length:count},()=>({
      x: Math.random()*w,
      y: Math.random()*h,
      vx: (Math.random()-.5)*0.35,
      vy: (Math.random()-.5)*0.35,
      r: Math.random()*1.6 + 0.7
    }));
  }
  resize();
  window.addEventListener('resize', resize);

  let pmx = 0, pmy = 0;
  window.addEventListener('pointermove', e=>{
    pmx = (e.clientX - w/2) * 0.02;
    pmy = (e.clientY - h/2) * 0.02;
    const glow = document.getElementById('mockGlow');
    if(glow){
      glow.style.setProperty('--gx', (50 + pmx*0.5)+'%');
      glow.style.setProperty('--gy', (50 + pmy*0.5)+'%');
    }
  });

  function tick(){
    ctx.clearRect(0,0,w,h);
    c.style.opacity = '0.55';

    for(const p of pts){
      p.x += p.vx; p.y += p.vy;
      if(p.x<0||p.x>w) p.vx*=-1;
      if(p.y<0||p.y>h) p.vy*=-1;
    }

    for(let i=0;i<pts.length;i++){
      const a = pts[i]; let links = 0;
      for(let j=i+1;j<pts.length;j++){
        const b = pts[j];
        const dx = a.x - b.x, dy = a.y - b.y, d2 = dx*dx + dy*dy;
        if(d2 < LINK_DIST*LINK_DIST){
          const d = Math.sqrt(d2);
          const alpha = 1 - d / LINK_DIST;
          ctx.globalAlpha = alpha * 0.25;
          ctx.beginPath();
          ctx.moveTo(a.x+pmx*alpha, a.y+pmy*alpha);
          ctx.lineTo(b.x+pmx*alpha, b.y+pmy*alpha);
          ctx.strokeStyle = 'rgba(0,198,255,1)';
          ctx.lineWidth = 1;
          ctx.stroke();
          if(++links >= MAX_LINKS) break;
        }
      }
    }
    ctx.globalAlpha = 1;

    for(const p of pts){
      const gx = p.x + pmx*0.3, gy = p.y + pmy*0.3;
      const g = ctx.createRadialGradient(gx,gy,0, gx,gy, p.r*6);
      g.addColorStop(0,'rgba(0,198,255,.75)');
      g.addColorStop(0.7,'rgba(0,198,255,.12)');
      g.addColorStop(1,'rgba(255,210,63,0)');
      ctx.fillStyle = g;
      ctx.beginPath();
      ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
      ctx.fill();
    }
    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);
})();

/* ---------- JSON-LD ---------- */
(function(){
  const schema = {
    "@context":"https://schema.org",
    "@type":"Product",
    "name":"CoreFlux Simpits Dynamic Frame",
    "brand":{"@type":"Brand","name":"CoreFlux Simpits"},
    "description":"Actuator-ready aluminium simpit chassis that transforms between racing cockpit, HOTAS flight sim, dual-stick space sim, and full workstation. Featuring the FIGHT3RPHOENIX Phoenix Primus layout.",
    "category":"Racing Simulator Cockpit / Flight Simpit / Motion Platform Frame",
    "material":"4080 anodized aluminium extrusion",
    "offers":{
      "@type":"Offer",
      "priceCurrency":"USD",
      "price":"1815",
      "availability":"https://schema.org/PreOrder",
      "url":"https://access-mark.github.io/CoreFlux-Simpits/#reserve"
    }
  };
  const s = document.createElement('script');
  s.type = 'application/ld+json';
  s.textContent = JSON.stringify(schema);
  document.head.appendChild(s);
})();
</script>

</body>
</html>
